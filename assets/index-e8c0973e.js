(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerpolicy&&(i.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?i.credentials="include":r.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function ga(t,e){const n=Object.create(null),s=t.split(",");for(let r=0;r<s.length;r++)n[s[r]]=!0;return e?r=>!!n[r.toLowerCase()]:r=>!!n[r]}function ma(t){if(G(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],r=xe(s)?rp(s):ma(s);if(r)for(const i in r)e[i]=r[i]}return e}else{if(xe(t))return t;if(ve(t))return t}}const tp=/;(?![^(]*\))/g,np=/:([^]+)/,sp=/\/\*.*?\*\//gs;function rp(t){const e={};return t.replace(sp,"").split(tp).forEach(n=>{if(n){const s=n.split(np);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function ya(t){let e="";if(xe(t))e=t;else if(G(t))for(let n=0;n<t.length;n++){const s=ya(t[n]);s&&(e+=s+" ")}else if(ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const ip="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",op=ga(ip);function Eu(t){return!!t||t===""}const Zi=t=>xe(t)?t:t==null?"":G(t)||ve(t)&&(t.toString===Iu||!Y(t.toString))?JSON.stringify(t,_u,2):String(t),_u=(t,e)=>e&&e.__v_isRef?_u(t,e.value):Un(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,r])=>(n[`${s} =>`]=r,n),{})}:bu(e)?{[`Set(${e.size})`]:[...e.values()]}:ve(e)&&!G(e)&&!Cu(e)?String(e):e,pe={},Vn=[],ft=()=>{},ap=()=>!1,cp=/^on[^a-z]/,gi=t=>cp.test(t),va=t=>t.startsWith("onUpdate:"),Ye=Object.assign,wa=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},lp=Object.prototype.hasOwnProperty,se=(t,e)=>lp.call(t,e),G=Array.isArray,Un=t=>mi(t)==="[object Map]",bu=t=>mi(t)==="[object Set]",Y=t=>typeof t=="function",xe=t=>typeof t=="string",Ea=t=>typeof t=="symbol",ve=t=>t!==null&&typeof t=="object",Tu=t=>ve(t)&&Y(t.then)&&Y(t.catch),Iu=Object.prototype.toString,mi=t=>Iu.call(t),up=t=>mi(t).slice(8,-1),Cu=t=>mi(t)==="[object Object]",_a=t=>xe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Mr=ga(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),yi=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},hp=/-(\w)/g,Kn=yi(t=>t.replace(hp,(e,n)=>n?n.toUpperCase():"")),fp=/\B([A-Z])/g,as=yi(t=>t.replace(fp,"-$1").toLowerCase()),Su=yi(t=>t.charAt(0).toUpperCase()+t.slice(1)),eo=yi(t=>t?`on${Su(t)}`:""),Fs=(t,e)=>!Object.is(t,e),Lr=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},zr=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Hr=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Rc;const dp=()=>Rc||(Rc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let _t;class pp{constructor(e=!1){this.detached=e,this.active=!0,this.effects=[],this.cleanups=[],this.parent=_t,!e&&_t&&(this.index=(_t.scopes||(_t.scopes=[])).push(this)-1)}run(e){if(this.active){const n=_t;try{return _t=this,e()}finally{_t=n}}}on(){_t=this}off(){_t=this.parent}stop(e){if(this.active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this.active=!1}}}function gp(t,e=_t){e&&e.active&&e.effects.push(t)}const ba=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Au=t=>(t.w&Jt)>0,Du=t=>(t.n&Jt)>0,mp=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=Jt},yp=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const r=e[s];Au(r)&&!Du(r)?r.delete(t):e[n++]=r,r.w&=~Jt,r.n&=~Jt}e.length=n}},Ao=new WeakMap;let Ts=0,Jt=1;const Do=30;let ut;const yn=Symbol(""),xo=Symbol("");class Ta{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,gp(this,s)}run(){if(!this.active)return this.fn();let e=ut,n=Kt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=ut,ut=this,Kt=!0,Jt=1<<++Ts,Ts<=Do?mp(this):kc(this),this.fn()}finally{Ts<=Do&&yp(this),Jt=1<<--Ts,ut=this.parent,Kt=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ut===this?this.deferStop=!0:this.active&&(kc(this),this.onStop&&this.onStop(),this.active=!1)}}function kc(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Kt=!0;const xu=[];function cs(){xu.push(Kt),Kt=!1}function ls(){const t=xu.pop();Kt=t===void 0?!0:t}function nt(t,e,n){if(Kt&&ut){let s=Ao.get(t);s||Ao.set(t,s=new Map);let r=s.get(n);r||s.set(n,r=ba()),Ru(r)}}function Ru(t,e){let n=!1;Ts<=Do?Du(t)||(t.n|=Jt,n=!Au(t)):n=!t.has(ut),n&&(t.add(ut),ut.deps.push(t))}function Lt(t,e,n,s,r,i){const o=Ao.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&G(t)){const c=Hr(s);o.forEach((l,u)=>{(u==="length"||u>=c)&&a.push(l)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":G(t)?_a(n)&&a.push(o.get("length")):(a.push(o.get(yn)),Un(t)&&a.push(o.get(xo)));break;case"delete":G(t)||(a.push(o.get(yn)),Un(t)&&a.push(o.get(xo)));break;case"set":Un(t)&&a.push(o.get(yn));break}if(a.length===1)a[0]&&Ro(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Ro(ba(c))}}function Ro(t,e){const n=G(t)?t:[...t];for(const s of n)s.computed&&Nc(s);for(const s of n)s.computed||Nc(s)}function Nc(t,e){(t!==ut||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const vp=ga("__proto__,__v_isRef,__isVue"),ku=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ea)),wp=Ia(),Ep=Ia(!1,!0),_p=Ia(!0),Oc=bp();function bp(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=oe(this);for(let i=0,o=this.length;i<o;i++)nt(s,"get",i+"");const r=s[e](...n);return r===-1||r===!1?s[e](...n.map(oe)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){cs();const s=oe(this)[e].apply(this,n);return ls(),s}}),t}function Ia(t=!1,e=!1){return function(s,r,i){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return e;if(r==="__v_raw"&&i===(t?e?Vp:Pu:e?Lu:Mu).get(s))return s;const o=G(s);if(!t&&o&&se(Oc,r))return Reflect.get(Oc,r,i);const a=Reflect.get(s,r,i);return(Ea(r)?ku.has(r):vp(r))||(t||nt(s,"get",r),e)?a:je(a)?o&&_a(r)?a:a.value:ve(a)?t?Fu(a):rr(a):a}}const Tp=Nu(),Ip=Nu(!0);function Nu(t=!1){return function(n,s,r,i){let o=n[s];if(Wn(o)&&je(o)&&!je(r))return!1;if(!t&&(!qr(r)&&!Wn(r)&&(o=oe(o),r=oe(r)),!G(n)&&je(o)&&!je(r)))return o.value=r,!0;const a=G(n)&&_a(s)?Number(s)<n.length:se(n,s),c=Reflect.set(n,s,r,i);return n===oe(i)&&(a?Fs(r,o)&&Lt(n,"set",s,r):Lt(n,"add",s,r)),c}}function Cp(t,e){const n=se(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&Lt(t,"delete",e,void 0),s}function Sp(t,e){const n=Reflect.has(t,e);return(!Ea(e)||!ku.has(e))&&nt(t,"has",e),n}function Ap(t){return nt(t,"iterate",G(t)?"length":yn),Reflect.ownKeys(t)}const Ou={get:wp,set:Tp,deleteProperty:Cp,has:Sp,ownKeys:Ap},Dp={get:_p,set(t,e){return!0},deleteProperty(t,e){return!0}},xp=Ye({},Ou,{get:Ep,set:Ip}),Ca=t=>t,vi=t=>Reflect.getPrototypeOf(t);function _r(t,e,n=!1,s=!1){t=t.__v_raw;const r=oe(t),i=oe(e);n||(e!==i&&nt(r,"get",e),nt(r,"get",i));const{has:o}=vi(r),a=s?Ca:n?Da:Vs;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function br(t,e=!1){const n=this.__v_raw,s=oe(n),r=oe(t);return e||(t!==r&&nt(s,"has",t),nt(s,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function Tr(t,e=!1){return t=t.__v_raw,!e&&nt(oe(t),"iterate",yn),Reflect.get(t,"size",t)}function Mc(t){t=oe(t);const e=oe(this);return vi(e).has.call(e,t)||(e.add(t),Lt(e,"add",t,t)),this}function Lc(t,e){e=oe(e);const n=oe(this),{has:s,get:r}=vi(n);let i=s.call(n,t);i||(t=oe(t),i=s.call(n,t));const o=r.call(n,t);return n.set(t,e),i?Fs(e,o)&&Lt(n,"set",t,e):Lt(n,"add",t,e),this}function Pc(t){const e=oe(this),{has:n,get:s}=vi(e);let r=n.call(e,t);r||(t=oe(t),r=n.call(e,t)),s&&s.call(e,t);const i=e.delete(t);return r&&Lt(e,"delete",t,void 0),i}function Fc(){const t=oe(this),e=t.size!==0,n=t.clear();return e&&Lt(t,"clear",void 0,void 0),n}function Ir(t,e){return function(s,r){const i=this,o=i.__v_raw,a=oe(o),c=e?Ca:t?Da:Vs;return!t&&nt(a,"iterate",yn),o.forEach((l,u)=>s.call(r,c(l),c(u),i))}}function Cr(t,e,n){return function(...s){const r=this.__v_raw,i=oe(r),o=Un(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=r[t](...s),u=n?Ca:e?Da:Vs;return!e&&nt(i,"iterate",c?xo:yn),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function jt(t){return function(...e){return t==="delete"?!1:this}}function Rp(){const t={get(i){return _r(this,i)},get size(){return Tr(this)},has:br,add:Mc,set:Lc,delete:Pc,clear:Fc,forEach:Ir(!1,!1)},e={get(i){return _r(this,i,!1,!0)},get size(){return Tr(this)},has:br,add:Mc,set:Lc,delete:Pc,clear:Fc,forEach:Ir(!1,!0)},n={get(i){return _r(this,i,!0)},get size(){return Tr(this,!0)},has(i){return br.call(this,i,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:Ir(!0,!1)},s={get(i){return _r(this,i,!0,!0)},get size(){return Tr(this,!0)},has(i){return br.call(this,i,!0)},add:jt("add"),set:jt("set"),delete:jt("delete"),clear:jt("clear"),forEach:Ir(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Cr(i,!1,!1),n[i]=Cr(i,!0,!1),e[i]=Cr(i,!1,!0),s[i]=Cr(i,!0,!0)}),[t,n,e,s]}const[kp,Np,Op,Mp]=Rp();function Sa(t,e){const n=e?t?Mp:Op:t?Np:kp;return(s,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?s:Reflect.get(se(n,r)&&r in s?n:s,r,i)}const Lp={get:Sa(!1,!1)},Pp={get:Sa(!1,!0)},Fp={get:Sa(!0,!1)},Mu=new WeakMap,Lu=new WeakMap,Pu=new WeakMap,Vp=new WeakMap;function Up(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $p(t){return t.__v_skip||!Object.isExtensible(t)?0:Up(up(t))}function rr(t){return Wn(t)?t:Aa(t,!1,Ou,Lp,Mu)}function Bp(t){return Aa(t,!1,xp,Pp,Lu)}function Fu(t){return Aa(t,!0,Dp,Fp,Pu)}function Aa(t,e,n,s,r){if(!ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=$p(t);if(o===0)return t;const a=new Proxy(t,o===2?s:n);return r.set(t,a),a}function $n(t){return Wn(t)?$n(t.__v_raw):!!(t&&t.__v_isReactive)}function Wn(t){return!!(t&&t.__v_isReadonly)}function qr(t){return!!(t&&t.__v_isShallow)}function Vu(t){return $n(t)||Wn(t)}function oe(t){const e=t&&t.__v_raw;return e?oe(e):t}function Uu(t){return zr(t,"__v_skip",!0),t}const Vs=t=>ve(t)?rr(t):t,Da=t=>ve(t)?Fu(t):t;function $u(t){Kt&&ut&&(t=oe(t),Ru(t.dep||(t.dep=ba())))}function Bu(t,e){t=oe(t),t.dep&&Ro(t.dep)}function je(t){return!!(t&&t.__v_isRef===!0)}function jp(t){return ju(t,!1)}function zp(t){return ju(t,!0)}function ju(t,e){return je(t)?t:new Hp(t,e)}class Hp{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:oe(e),this._value=n?e:Vs(e)}get value(){return $u(this),this._value}set value(e){const n=this.__v_isShallow||qr(e)||Wn(e);e=n?e:oe(e),Fs(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:Vs(e),Bu(this))}}function Bn(t){return je(t)?t.value:t}const qp={get:(t,e,n)=>Bn(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const r=t[e];return je(r)&&!je(n)?(r.value=n,!0):Reflect.set(t,e,n,s)}};function zu(t){return $n(t)?t:new Proxy(t,qp)}var Hu;class Kp{constructor(e,n,s,r){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[Hu]=!1,this._dirty=!0,this.effect=new Ta(e,()=>{this._dirty||(this._dirty=!0,Bu(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=s}get value(){const e=oe(this);return $u(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}Hu="__v_isReadonly";function Wp(t,e,n=!1){let s,r;const i=Y(t);return i?(s=t,r=ft):(s=t.get,r=t.set),new Kp(s,r,i||!r,n)}function Wt(t,e,n,s){let r;try{r=s?t(...s):t()}catch(i){wi(i,e,n)}return r}function dt(t,e,n,s){if(Y(t)){const i=Wt(t,e,n,s);return i&&Tu(i)&&i.catch(o=>{wi(o,e,n)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(dt(t[i],e,n,s));return r}function wi(t,e,n,s=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const l=i.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](t,o,a)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){Wt(c,null,10,[t,o,a]);return}}Gp(t,n,r,s)}function Gp(t,e,n,s=!0){console.error(t)}let Us=!1,ko=!1;const Ue=[];let Tt=0;const jn=[];let kt=null,hn=0;const qu=Promise.resolve();let xa=null;function Ku(t){const e=xa||qu;return t?e.then(this?t.bind(this):t):e}function Qp(t){let e=Tt+1,n=Ue.length;for(;e<n;){const s=e+n>>>1;$s(Ue[s])<t?e=s+1:n=s}return e}function Ra(t){(!Ue.length||!Ue.includes(t,Us&&t.allowRecurse?Tt+1:Tt))&&(t.id==null?Ue.push(t):Ue.splice(Qp(t.id),0,t),Wu())}function Wu(){!Us&&!ko&&(ko=!0,xa=qu.then(Qu))}function Yp(t){const e=Ue.indexOf(t);e>Tt&&Ue.splice(e,1)}function Xp(t){G(t)?jn.push(...t):(!kt||!kt.includes(t,t.allowRecurse?hn+1:hn))&&jn.push(t),Wu()}function Vc(t,e=Us?Tt+1:0){for(;e<Ue.length;e++){const n=Ue[e];n&&n.pre&&(Ue.splice(e,1),e--,n())}}function Gu(t){if(jn.length){const e=[...new Set(jn)];if(jn.length=0,kt){kt.push(...e);return}for(kt=e,kt.sort((n,s)=>$s(n)-$s(s)),hn=0;hn<kt.length;hn++)kt[hn]();kt=null,hn=0}}const $s=t=>t.id==null?1/0:t.id,Jp=(t,e)=>{const n=$s(t)-$s(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function Qu(t){ko=!1,Us=!0,Ue.sort(Jp);const e=ft;try{for(Tt=0;Tt<Ue.length;Tt++){const n=Ue[Tt];n&&n.active!==!1&&Wt(n,null,14)}}finally{Tt=0,Ue.length=0,Gu(),Us=!1,xa=null,(Ue.length||jn.length)&&Qu()}}function Zp(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||pe;let r=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=s[u]||pe;d&&(r=n.map(g=>xe(g)?g.trim():g)),h&&(r=n.map(Hr))}let a,c=s[a=eo(e)]||s[a=eo(Kn(e))];!c&&i&&(c=s[a=eo(as(e))]),c&&dt(c,t,6,r);const l=s[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,dt(l,t,6,r)}}function Yu(t,e,n=!1){const s=e.emitsCache,r=s.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!Y(t)){const c=l=>{const u=Yu(l,e,!0);u&&(a=!0,Ye(o,u))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(ve(t)&&s.set(t,null),null):(G(i)?i.forEach(c=>o[c]=null):Ye(o,i),ve(t)&&s.set(t,o),o)}function Ei(t,e){return!t||!gi(e)?!1:(e=e.slice(2).replace(/Once$/,""),se(t,e[0].toLowerCase()+e.slice(1))||se(t,as(e))||se(t,e))}let Ge=null,_i=null;function Kr(t){const e=Ge;return Ge=t,_i=t&&t.type.__scopeId||null,e}function eg(t){_i=t}function tg(){_i=null}function Pe(t,e=Ge,n){if(!e||t._n)return t;const s=(...r)=>{s._d&&Kc(-1);const i=Kr(e);let o;try{o=t(...r)}finally{Kr(i),s._d&&Kc(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function to(t){const{type:e,vnode:n,proxy:s,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:g,ctx:v,inheritAttrs:I}=t;let N,x;const L=Kr(t);try{if(n.shapeFlag&4){const J=r||s;N=bt(u.call(J,J,h,i,g,d,v)),x=c}else{const J=e;N=bt(J.length>1?J(i,{attrs:c,slots:a,emit:l}):J(i,null)),x=e.props?c:ng(c)}}catch(J){xs.length=0,wi(J,t,1),N=ge(Gn)}let F=N;if(x&&I!==!1){const J=Object.keys(x),{shapeFlag:_e}=F;J.length&&_e&7&&(o&&J.some(va)&&(x=sg(x,o)),F=Qn(F,x))}return n.dirs&&(F=Qn(F),F.dirs=F.dirs?F.dirs.concat(n.dirs):n.dirs),n.transition&&(F.transition=n.transition),N=F,Kr(L),N}const ng=t=>{let e;for(const n in t)(n==="class"||n==="style"||gi(n))&&((e||(e={}))[n]=t[n]);return e},sg=(t,e)=>{const n={};for(const s in t)(!va(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function rg(t,e,n){const{props:s,children:r,component:i}=t,{props:o,children:a,patchFlag:c}=e,l=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return s?Uc(s,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==s[d]&&!Ei(l,d))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:s===o?!1:s?o?Uc(s,o,l):!0:!!o;return!1}function Uc(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let r=0;r<s.length;r++){const i=s[r];if(e[i]!==t[i]&&!Ei(n,i))return!0}return!1}function ig({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const og=t=>t.__isSuspense;function ag(t,e){e&&e.pendingBranch?G(t)?e.effects.push(...t):e.effects.push(t):Xp(t)}function Pr(t,e){if($e){let n=$e.provides;const s=$e.parent&&$e.parent.provides;s===n&&(n=$e.provides=Object.create(s)),n[t]=e}}function Ot(t,e,n=!1){const s=$e||Ge;if(s){const r=s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&Y(e)?e.call(s.proxy):e}}const Sr={};function Fr(t,e,n){return Xu(t,e,n)}function Xu(t,e,{immediate:n,deep:s,flush:r,onTrack:i,onTrigger:o}=pe){const a=$e;let c,l=!1,u=!1;if(je(t)?(c=()=>t.value,l=qr(t)):$n(t)?(c=()=>t,s=!0):G(t)?(u=!0,l=t.some(F=>$n(F)||qr(F)),c=()=>t.map(F=>{if(je(F))return F.value;if($n(F))return dn(F);if(Y(F))return Wt(F,a,2)})):Y(t)?e?c=()=>Wt(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),dt(t,a,3,[d])}:c=ft,e&&s){const F=c;c=()=>dn(F())}let h,d=F=>{h=x.onStop=()=>{Wt(F,a,4)}},g;if(js)if(d=ft,e?n&&dt(e,a,3,[c(),u?[]:void 0,d]):c(),r==="sync"){const F=em();g=F.__watcherHandles||(F.__watcherHandles=[])}else return ft;let v=u?new Array(t.length).fill(Sr):Sr;const I=()=>{if(x.active)if(e){const F=x.run();(s||l||(u?F.some((J,_e)=>Fs(J,v[_e])):Fs(F,v)))&&(h&&h(),dt(e,a,3,[F,v===Sr?void 0:u&&v[0]===Sr?[]:v,d]),v=F)}else x.run()};I.allowRecurse=!!e;let N;r==="sync"?N=I:r==="post"?N=()=>Je(I,a&&a.suspense):(I.pre=!0,a&&(I.id=a.uid),N=()=>Ra(I));const x=new Ta(c,N);e?n?I():v=x.run():r==="post"?Je(x.run.bind(x),a&&a.suspense):x.run();const L=()=>{x.stop(),a&&a.scope&&wa(a.scope.effects,x)};return g&&g.push(L),L}function cg(t,e,n){const s=this.proxy,r=xe(t)?t.includes(".")?Ju(s,t):()=>s[t]:t.bind(s,s);let i;Y(e)?i=e:(i=e.handler,n=e);const o=$e;Yn(this);const a=Xu(r,i.bind(s),n);return o?Yn(o):vn(),a}function Ju(t,e){const n=e.split(".");return()=>{let s=t;for(let r=0;r<n.length&&s;r++)s=s[n[r]];return s}}function dn(t,e){if(!ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),je(t))dn(t.value,e);else if(G(t))for(let n=0;n<t.length;n++)dn(t[n],e);else if(bu(t)||Un(t))t.forEach(n=>{dn(n,e)});else if(Cu(t))for(const n in t)dn(t[n],e);return t}function Zu(t){return Y(t)?{setup:t,name:t.name}:t}const As=t=>!!t.type.__asyncLoader,eh=t=>t.type.__isKeepAlive;function lg(t,e){th(t,"a",e)}function ug(t,e){th(t,"da",e)}function th(t,e,n=$e){const s=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(bi(e,s,n),n){let r=n.parent;for(;r&&r.parent;)eh(r.parent.vnode)&&hg(s,e,n,r),r=r.parent}}function hg(t,e,n,s){const r=bi(e,t,s,!0);nh(()=>{wa(s[e],r)},n)}function bi(t,e,n=$e,s=!1){if(n){const r=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;cs(),Yn(n);const a=dt(e,n,t,o);return vn(),ls(),a});return s?r.unshift(i):r.push(i),i}}const $t=t=>(e,n=$e)=>(!js||t==="sp")&&bi(t,(...s)=>e(...s),n),fg=$t("bm"),dg=$t("m"),pg=$t("bu"),gg=$t("u"),mg=$t("bum"),nh=$t("um"),yg=$t("sp"),vg=$t("rtg"),wg=$t("rtc");function Eg(t,e=$e){bi("ec",t,e)}function no(t,e){const n=Ge;if(n===null)return t;const s=Ci(n)||n.proxy,r=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,c,l=pe]=e[i];o&&(Y(o)&&(o={mounted:o,updated:o}),o.deep&&dn(a),r.push({dir:o,instance:s,value:a,oldValue:void 0,arg:c,modifiers:l}))}return t}function an(t,e,n,s){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let c=a.dir[s];c&&(cs(),dt(c,n,8,[t.el,a,t,e]),ls())}}const _g=Symbol();function bg(t,e,n,s){let r;const i=n&&n[s];if(G(t)||xe(t)){r=new Array(t.length);for(let o=0,a=t.length;o<a;o++)r[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){r=new Array(t);for(let o=0;o<t;o++)r[o]=e(o+1,o,void 0,i&&i[o])}else if(ve(t))if(t[Symbol.iterator])r=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);r=new Array(o.length);for(let a=0,c=o.length;a<c;a++){const l=o[a];r[a]=e(t[l],l,a,i&&i[a])}}else r=[];return n&&(n[s]=r),r}function so(t,e,n={},s,r){if(Ge.isCE||Ge.parent&&As(Ge.parent)&&Ge.parent.isCE)return e!=="default"&&(n.name=e),ge("slot",n,s&&s());let i=t[e];i&&i._c&&(i._d=!1),ot();const o=i&&sh(i(n)),a=Bg(Ze,{key:n.key||o&&o.key||`_${e}`},o||(s?s():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function sh(t){return t.some(e=>Gr(e)?!(e.type===Gn||e.type===Ze&&!sh(e.children)):!0)?t:null}const No=t=>t?ph(t)?Ci(t)||t.proxy:No(t.parent):null,Ds=Ye(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>No(t.parent),$root:t=>No(t.root),$emit:t=>t.emit,$options:t=>ka(t),$forceUpdate:t=>t.f||(t.f=()=>Ra(t.update)),$nextTick:t=>t.n||(t.n=Ku.bind(t.proxy)),$watch:t=>cg.bind(t)}),ro=(t,e)=>t!==pe&&!t.__isScriptSetup&&se(t,e),Tg={get({_:t},e){const{ctx:n,setupState:s,data:r,props:i,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return s[e];case 2:return r[e];case 4:return n[e];case 3:return i[e]}else{if(ro(s,e))return o[e]=1,s[e];if(r!==pe&&se(r,e))return o[e]=2,r[e];if((l=t.propsOptions[0])&&se(l,e))return o[e]=3,i[e];if(n!==pe&&se(n,e))return o[e]=4,n[e];Oo&&(o[e]=0)}}const u=Ds[e];let h,d;if(u)return e==="$attrs"&&nt(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(n!==pe&&se(n,e))return o[e]=4,n[e];if(d=c.config.globalProperties,se(d,e))return d[e]},set({_:t},e,n){const{data:s,setupState:r,ctx:i}=t;return ro(r,e)?(r[e]=n,!0):s!==pe&&se(s,e)?(s[e]=n,!0):se(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:r,propsOptions:i}},o){let a;return!!n[o]||t!==pe&&se(t,o)||ro(e,o)||(a=i[0])&&se(a,o)||se(s,o)||se(Ds,o)||se(r.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:se(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};let Oo=!0;function Ig(t){const e=ka(t),n=t.proxy,s=t.ctx;Oo=!1,e.beforeCreate&&$c(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:g,updated:v,activated:I,deactivated:N,beforeDestroy:x,beforeUnmount:L,destroyed:F,unmounted:J,render:_e,renderTracked:Ke,renderTriggered:et,errorCaptured:xt,serverPrefetch:Dn,expose:yt,inheritAttrs:Bt,components:vt,directives:xn,filters:rn}=e;if(l&&Cg(l,s,null,t.appContext.config.unwrapInjectedRef),o)for(const he in o){const le=o[he];Y(le)&&(s[he]=le.bind(n))}if(r){const he=r.call(n,n);ve(he)&&(t.data=rr(he))}if(Oo=!0,i)for(const he in i){const le=i[he],at=Y(le)?le.bind(n,n):Y(le.get)?le.get.bind(n,n):ft,on=!Y(le)&&Y(le.set)?le.set.bind(n):ft,ct=rt({get:at,set:on});Object.defineProperty(s,he,{enumerable:!0,configurable:!0,get:()=>ct.value,set:Xe=>ct.value=Xe})}if(a)for(const he in a)rh(a[he],s,n,he);if(c){const he=Y(c)?c.call(n):c;Reflect.ownKeys(he).forEach(le=>{Pr(le,he[le])})}u&&$c(u,t,"c");function be(he,le){G(le)?le.forEach(at=>he(at.bind(n))):le&&he(le.bind(n))}if(be(fg,h),be(dg,d),be(pg,g),be(gg,v),be(lg,I),be(ug,N),be(Eg,xt),be(wg,Ke),be(vg,et),be(mg,L),be(nh,J),be(yg,Dn),G(yt))if(yt.length){const he=t.exposed||(t.exposed={});yt.forEach(le=>{Object.defineProperty(he,le,{get:()=>n[le],set:at=>n[le]=at})})}else t.exposed||(t.exposed={});_e&&t.render===ft&&(t.render=_e),Bt!=null&&(t.inheritAttrs=Bt),vt&&(t.components=vt),xn&&(t.directives=xn)}function Cg(t,e,n=ft,s=!1){G(t)&&(t=Mo(t));for(const r in t){const i=t[r];let o;ve(i)?"default"in i?o=Ot(i.from||r,i.default,!0):o=Ot(i.from||r):o=Ot(i),je(o)&&s?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:a=>o.value=a}):e[r]=o}}function $c(t,e,n){dt(G(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function rh(t,e,n,s){const r=s.includes(".")?Ju(n,s):()=>n[s];if(xe(t)){const i=e[t];Y(i)&&Fr(r,i)}else if(Y(t))Fr(r,t.bind(n));else if(ve(t))if(G(t))t.forEach(i=>rh(i,e,n,s));else{const i=Y(t.handler)?t.handler.bind(n):e[t.handler];Y(i)&&Fr(r,i,t)}}function ka(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!r.length&&!n&&!s?c=e:(c={},r.length&&r.forEach(l=>Wr(c,l,o,!0)),Wr(c,e,o)),ve(e)&&i.set(e,c),c}function Wr(t,e,n,s=!1){const{mixins:r,extends:i}=e;i&&Wr(t,i,n,!0),r&&r.forEach(o=>Wr(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const a=Sg[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Sg={data:Bc,props:ln,emits:ln,methods:ln,computed:ln,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:ln,directives:ln,watch:Dg,provide:Bc,inject:Ag};function Bc(t,e){return e?t?function(){return Ye(Y(t)?t.call(this,this):t,Y(e)?e.call(this,this):e)}:e:t}function Ag(t,e){return ln(Mo(t),Mo(e))}function Mo(t){if(G(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function We(t,e){return t?[...new Set([].concat(t,e))]:e}function ln(t,e){return t?Ye(Ye(Object.create(null),t),e):e}function Dg(t,e){if(!t)return e;if(!e)return t;const n=Ye(Object.create(null),t);for(const s in e)n[s]=We(t[s],e[s]);return n}function xg(t,e,n,s=!1){const r={},i={};zr(i,Ii,1),t.propsDefaults=Object.create(null),ih(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);n?t.props=s?r:Bp(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function Rg(t,e,n,s){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=oe(r),[c]=t.propsOptions;let l=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(Ei(t.emitsOptions,d))continue;const g=e[d];if(c)if(se(i,d))g!==i[d]&&(i[d]=g,l=!0);else{const v=Kn(d);r[v]=Lo(c,a,v,g,t,!1)}else g!==i[d]&&(i[d]=g,l=!0)}}}else{ih(t,e,r,i)&&(l=!0);let u;for(const h in a)(!e||!se(e,h)&&((u=as(h))===h||!se(e,u)))&&(c?n&&(n[h]!==void 0||n[u]!==void 0)&&(r[h]=Lo(c,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!se(e,h))&&(delete i[h],l=!0)}l&&Lt(t,"set","$attrs")}function ih(t,e,n,s){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Mr(c))continue;const l=e[c];let u;r&&se(r,u=Kn(c))?!i||!i.includes(u)?n[u]=l:(a||(a={}))[u]=l:Ei(t.emitsOptions,c)||(!(c in s)||l!==s[c])&&(s[c]=l,o=!0)}if(i){const c=oe(n),l=a||pe;for(let u=0;u<i.length;u++){const h=i[u];n[h]=Lo(r,c,h,l[h],t,!se(l,h))}}return o}function Lo(t,e,n,s,r,i){const o=t[n];if(o!=null){const a=se(o,"default");if(a&&s===void 0){const c=o.default;if(o.type!==Function&&Y(c)){const{propsDefaults:l}=r;n in l?s=l[n]:(Yn(r),s=l[n]=c.call(null,e),vn())}else s=c}o[0]&&(i&&!a?s=!1:o[1]&&(s===""||s===as(n))&&(s=!0))}return s}function oh(t,e,n=!1){const s=e.propsCache,r=s.get(t);if(r)return r;const i=t.props,o={},a=[];let c=!1;if(!Y(t)){const u=h=>{c=!0;const[d,g]=oh(h,e,!0);Ye(o,d),g&&a.push(...g)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!c)return ve(t)&&s.set(t,Vn),Vn;if(G(i))for(let u=0;u<i.length;u++){const h=Kn(i[u]);jc(h)&&(o[h]=pe)}else if(i)for(const u in i){const h=Kn(u);if(jc(h)){const d=i[u],g=o[h]=G(d)||Y(d)?{type:d}:Object.assign({},d);if(g){const v=qc(Boolean,g.type),I=qc(String,g.type);g[0]=v>-1,g[1]=I<0||v<I,(v>-1||se(g,"default"))&&a.push(h)}}}const l=[o,a];return ve(t)&&s.set(t,l),l}function jc(t){return t[0]!=="$"}function zc(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:t===null?"null":""}function Hc(t,e){return zc(t)===zc(e)}function qc(t,e){return G(e)?e.findIndex(n=>Hc(n,t)):Y(e)&&Hc(e,t)?0:-1}const ah=t=>t[0]==="_"||t==="$stable",Na=t=>G(t)?t.map(bt):[bt(t)],kg=(t,e,n)=>{if(e._n)return e;const s=Pe((...r)=>Na(e(...r)),n);return s._c=!1,s},ch=(t,e,n)=>{const s=t._ctx;for(const r in t){if(ah(r))continue;const i=t[r];if(Y(i))e[r]=kg(r,i,s);else if(i!=null){const o=Na(i);e[r]=()=>o}}},lh=(t,e)=>{const n=Na(e);t.slots.default=()=>n},Ng=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=oe(e),zr(e,"_",n)):ch(e,t.slots={})}else t.slots={},e&&lh(t,e);zr(t.slots,Ii,1)},Og=(t,e,n)=>{const{vnode:s,slots:r}=t;let i=!0,o=pe;if(s.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(Ye(r,e),!n&&a===1&&delete r._):(i=!e.$stable,ch(e,r)),o=e}else e&&(lh(t,e),o={default:1});if(i)for(const a in r)!ah(a)&&!(a in o)&&delete r[a]};function uh(){return{app:null,config:{isNativeTag:ap,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mg=0;function Lg(t,e){return function(s,r=null){Y(s)||(s=Object.assign({},s)),r!=null&&!ve(r)&&(r=null);const i=uh(),o=new Set;let a=!1;const c=i.app={_uid:Mg++,_component:s,_props:r,_container:null,_context:i,_instance:null,version:tm,get config(){return i.config},set config(l){},use(l,...u){return o.has(l)||(l&&Y(l.install)?(o.add(l),l.install(c,...u)):Y(l)&&(o.add(l),l(c,...u))),c},mixin(l){return i.mixins.includes(l)||i.mixins.push(l),c},component(l,u){return u?(i.components[l]=u,c):i.components[l]},directive(l,u){return u?(i.directives[l]=u,c):i.directives[l]},mount(l,u,h){if(!a){const d=ge(s,r);return d.appContext=i,u&&e?e(d,l):t(d,l,h),a=!0,c._container=l,l.__vue_app__=c,Ci(d.component)||d.component.proxy}},unmount(){a&&(t(null,c._container),delete c._container.__vue_app__)},provide(l,u){return i.provides[l]=u,c}};return c}}function Po(t,e,n,s,r=!1){if(G(t)){t.forEach((d,g)=>Po(d,e&&(G(e)?e[g]:e),n,s,r));return}if(As(s)&&!r)return;const i=s.shapeFlag&4?Ci(s.component)||s.component.proxy:s.el,o=r?null:i,{i:a,r:c}=t,l=e&&e.r,u=a.refs===pe?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(xe(l)?(u[l]=null,se(h,l)&&(h[l]=null)):je(l)&&(l.value=null)),Y(c))Wt(c,a,12,[o,u]);else{const d=xe(c),g=je(c);if(d||g){const v=()=>{if(t.f){const I=d?se(h,c)?h[c]:u[c]:c.value;r?G(I)&&wa(I,i):G(I)?I.includes(i)||I.push(i):d?(u[c]=[i],se(h,c)&&(h[c]=u[c])):(c.value=[i],t.k&&(u[t.k]=c.value))}else d?(u[c]=o,se(h,c)&&(h[c]=o)):g&&(c.value=o,t.k&&(u[t.k]=o))};o?(v.id=-1,Je(v,n)):v()}}}const Je=ag;function Pg(t){return Fg(t)}function Fg(t,e){const n=dp();n.__VUE__=!0;const{insert:s,remove:r,patchProp:i,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:g=ft,insertStaticContent:v}=t,I=(f,p,m,y=null,E=null,S=null,R=!1,C=null,A=!!p.dynamicChildren)=>{if(f===p)return;f&&!ws(f,p)&&(y=D(f),Xe(f,E,S,!0),f=null),p.patchFlag===-2&&(A=!1,p.dynamicChildren=null);const{type:_,ref:U,shapeFlag:O}=p;switch(_){case Ti:N(f,p,m,y);break;case Gn:x(f,p,m,y);break;case io:f==null&&L(p,m,y,R);break;case Ze:vt(f,p,m,y,E,S,R,C,A);break;default:O&1?_e(f,p,m,y,E,S,R,C,A):O&6?xn(f,p,m,y,E,S,R,C,A):(O&64||O&128)&&_.process(f,p,m,y,E,S,R,C,A,ne)}U!=null&&E&&Po(U,f&&f.ref,S,p||f,!p)},N=(f,p,m,y)=>{if(f==null)s(p.el=a(p.children),m,y);else{const E=p.el=f.el;p.children!==f.children&&l(E,p.children)}},x=(f,p,m,y)=>{f==null?s(p.el=c(p.children||""),m,y):p.el=f.el},L=(f,p,m,y)=>{[f.el,f.anchor]=v(f.children,p,m,y,f.el,f.anchor)},F=({el:f,anchor:p},m,y)=>{let E;for(;f&&f!==p;)E=d(f),s(f,m,y),f=E;s(p,m,y)},J=({el:f,anchor:p})=>{let m;for(;f&&f!==p;)m=d(f),r(f),f=m;r(p)},_e=(f,p,m,y,E,S,R,C,A)=>{R=R||p.type==="svg",f==null?Ke(p,m,y,E,S,R,C,A):Dn(f,p,E,S,R,C,A)},Ke=(f,p,m,y,E,S,R,C)=>{let A,_;const{type:U,props:O,shapeFlag:$,transition:q,dirs:Z}=f;if(A=f.el=o(f.type,S,O&&O.is,O),$&8?u(A,f.children):$&16&&xt(f.children,A,null,y,E,S&&U!=="foreignObject",R,C),Z&&an(f,null,y,"created"),O){for(const ue in O)ue!=="value"&&!Mr(ue)&&i(A,ue,null,O[ue],S,f.children,y,E,k);"value"in O&&i(A,"value",null,O.value),(_=O.onVnodeBeforeMount)&&Et(_,y,f)}et(A,f,f.scopeId,R,y),Z&&an(f,null,y,"beforeMount");const fe=(!E||E&&!E.pendingBranch)&&q&&!q.persisted;fe&&q.beforeEnter(A),s(A,p,m),((_=O&&O.onVnodeMounted)||fe||Z)&&Je(()=>{_&&Et(_,y,f),fe&&q.enter(A),Z&&an(f,null,y,"mounted")},E)},et=(f,p,m,y,E)=>{if(m&&g(f,m),y)for(let S=0;S<y.length;S++)g(f,y[S]);if(E){let S=E.subTree;if(p===S){const R=E.vnode;et(f,R,R.scopeId,R.slotScopeIds,E.parent)}}},xt=(f,p,m,y,E,S,R,C,A=0)=>{for(let _=A;_<f.length;_++){const U=f[_]=C?Ht(f[_]):bt(f[_]);I(null,U,p,m,y,E,S,R,C)}},Dn=(f,p,m,y,E,S,R)=>{const C=p.el=f.el;let{patchFlag:A,dynamicChildren:_,dirs:U}=p;A|=f.patchFlag&16;const O=f.props||pe,$=p.props||pe;let q;m&&cn(m,!1),(q=$.onVnodeBeforeUpdate)&&Et(q,m,p,f),U&&an(p,f,m,"beforeUpdate"),m&&cn(m,!0);const Z=E&&p.type!=="foreignObject";if(_?yt(f.dynamicChildren,_,C,m,y,Z,S):R||le(f,p,C,null,m,y,Z,S,!1),A>0){if(A&16)Bt(C,p,O,$,m,y,E);else if(A&2&&O.class!==$.class&&i(C,"class",null,$.class,E),A&4&&i(C,"style",O.style,$.style,E),A&8){const fe=p.dynamicProps;for(let ue=0;ue<fe.length;ue++){const Te=fe[ue],lt=O[Te],kn=$[Te];(kn!==lt||Te==="value")&&i(C,Te,lt,kn,E,f.children,m,y,k)}}A&1&&f.children!==p.children&&u(C,p.children)}else!R&&_==null&&Bt(C,p,O,$,m,y,E);((q=$.onVnodeUpdated)||U)&&Je(()=>{q&&Et(q,m,p,f),U&&an(p,f,m,"updated")},y)},yt=(f,p,m,y,E,S,R)=>{for(let C=0;C<p.length;C++){const A=f[C],_=p[C],U=A.el&&(A.type===Ze||!ws(A,_)||A.shapeFlag&70)?h(A.el):m;I(A,_,U,null,y,E,S,R,!0)}},Bt=(f,p,m,y,E,S,R)=>{if(m!==y){if(m!==pe)for(const C in m)!Mr(C)&&!(C in y)&&i(f,C,m[C],null,R,p.children,E,S,k);for(const C in y){if(Mr(C))continue;const A=y[C],_=m[C];A!==_&&C!=="value"&&i(f,C,_,A,R,p.children,E,S,k)}"value"in y&&i(f,"value",m.value,y.value)}},vt=(f,p,m,y,E,S,R,C,A)=>{const _=p.el=f?f.el:a(""),U=p.anchor=f?f.anchor:a("");let{patchFlag:O,dynamicChildren:$,slotScopeIds:q}=p;q&&(C=C?C.concat(q):q),f==null?(s(_,m,y),s(U,m,y),xt(p.children,m,U,E,S,R,C,A)):O>0&&O&64&&$&&f.dynamicChildren?(yt(f.dynamicChildren,$,m,E,S,R,C),(p.key!=null||E&&p===E.subTree)&&hh(f,p,!0)):le(f,p,m,U,E,S,R,C,A)},xn=(f,p,m,y,E,S,R,C,A)=>{p.slotScopeIds=C,f==null?p.shapeFlag&512?E.ctx.activate(p,m,y,R,A):rn(p,m,y,E,S,R,A):ys(f,p,A)},rn=(f,p,m,y,E,S,R)=>{const C=f.component=Wg(f,y,E);if(eh(f)&&(C.ctx.renderer=ne),Gg(C),C.asyncDep){if(E&&E.registerDep(C,be),!f.el){const A=C.subTree=ge(Gn);x(null,A,p,m)}return}be(C,f,p,m,E,S,R)},ys=(f,p,m)=>{const y=p.component=f.component;if(rg(f,p,m))if(y.asyncDep&&!y.asyncResolved){he(y,p,m);return}else y.next=p,Yp(y.update),y.update();else p.el=f.el,y.vnode=p},be=(f,p,m,y,E,S,R)=>{const C=()=>{if(f.isMounted){let{next:U,bu:O,u:$,parent:q,vnode:Z}=f,fe=U,ue;cn(f,!1),U?(U.el=Z.el,he(f,U,R)):U=Z,O&&Lr(O),(ue=U.props&&U.props.onVnodeBeforeUpdate)&&Et(ue,q,U,Z),cn(f,!0);const Te=to(f),lt=f.subTree;f.subTree=Te,I(lt,Te,h(lt.el),D(lt),f,E,S),U.el=Te.el,fe===null&&ig(f,Te.el),$&&Je($,E),(ue=U.props&&U.props.onVnodeUpdated)&&Je(()=>Et(ue,q,U,Z),E)}else{let U;const{el:O,props:$}=p,{bm:q,m:Z,parent:fe}=f,ue=As(p);if(cn(f,!1),q&&Lr(q),!ue&&(U=$&&$.onVnodeBeforeMount)&&Et(U,fe,p),cn(f,!0),O&&X){const Te=()=>{f.subTree=to(f),X(O,f.subTree,f,E,null)};ue?p.type.__asyncLoader().then(()=>!f.isUnmounted&&Te()):Te()}else{const Te=f.subTree=to(f);I(null,Te,m,y,f,E,S),p.el=Te.el}if(Z&&Je(Z,E),!ue&&(U=$&&$.onVnodeMounted)){const Te=p;Je(()=>Et(U,fe,Te),E)}(p.shapeFlag&256||fe&&As(fe.vnode)&&fe.vnode.shapeFlag&256)&&f.a&&Je(f.a,E),f.isMounted=!0,p=m=y=null}},A=f.effect=new Ta(C,()=>Ra(_),f.scope),_=f.update=()=>A.run();_.id=f.uid,cn(f,!0),_()},he=(f,p,m)=>{p.component=f;const y=f.vnode.props;f.vnode=p,f.next=null,Rg(f,p.props,y,m),Og(f,p.children,m),cs(),Vc(),ls()},le=(f,p,m,y,E,S,R,C,A=!1)=>{const _=f&&f.children,U=f?f.shapeFlag:0,O=p.children,{patchFlag:$,shapeFlag:q}=p;if($>0){if($&128){on(_,O,m,y,E,S,R,C,A);return}else if($&256){at(_,O,m,y,E,S,R,C,A);return}}q&8?(U&16&&k(_,E,S),O!==_&&u(m,O)):U&16?q&16?on(_,O,m,y,E,S,R,C,A):k(_,E,S,!0):(U&8&&u(m,""),q&16&&xt(O,m,y,E,S,R,C,A))},at=(f,p,m,y,E,S,R,C,A)=>{f=f||Vn,p=p||Vn;const _=f.length,U=p.length,O=Math.min(_,U);let $;for($=0;$<O;$++){const q=p[$]=A?Ht(p[$]):bt(p[$]);I(f[$],q,m,null,E,S,R,C,A)}_>U?k(f,E,S,!0,!1,O):xt(p,m,y,E,S,R,C,A,O)},on=(f,p,m,y,E,S,R,C,A)=>{let _=0;const U=p.length;let O=f.length-1,$=U-1;for(;_<=O&&_<=$;){const q=f[_],Z=p[_]=A?Ht(p[_]):bt(p[_]);if(ws(q,Z))I(q,Z,m,null,E,S,R,C,A);else break;_++}for(;_<=O&&_<=$;){const q=f[O],Z=p[$]=A?Ht(p[$]):bt(p[$]);if(ws(q,Z))I(q,Z,m,null,E,S,R,C,A);else break;O--,$--}if(_>O){if(_<=$){const q=$+1,Z=q<U?p[q].el:y;for(;_<=$;)I(null,p[_]=A?Ht(p[_]):bt(p[_]),m,Z,E,S,R,C,A),_++}}else if(_>$)for(;_<=O;)Xe(f[_],E,S,!0),_++;else{const q=_,Z=_,fe=new Map;for(_=Z;_<=$;_++){const tt=p[_]=A?Ht(p[_]):bt(p[_]);tt.key!=null&&fe.set(tt.key,_)}let ue,Te=0;const lt=$-Z+1;let kn=!1,Ac=0;const vs=new Array(lt);for(_=0;_<lt;_++)vs[_]=0;for(_=q;_<=O;_++){const tt=f[_];if(Te>=lt){Xe(tt,E,S,!0);continue}let wt;if(tt.key!=null)wt=fe.get(tt.key);else for(ue=Z;ue<=$;ue++)if(vs[ue-Z]===0&&ws(tt,p[ue])){wt=ue;break}wt===void 0?Xe(tt,E,S,!0):(vs[wt-Z]=_+1,wt>=Ac?Ac=wt:kn=!0,I(tt,p[wt],m,null,E,S,R,C,A),Te++)}const Dc=kn?Vg(vs):Vn;for(ue=Dc.length-1,_=lt-1;_>=0;_--){const tt=Z+_,wt=p[tt],xc=tt+1<U?p[tt+1].el:y;vs[_]===0?I(null,wt,m,xc,E,S,R,C,A):kn&&(ue<0||_!==Dc[ue]?ct(wt,m,xc,2):ue--)}}},ct=(f,p,m,y,E=null)=>{const{el:S,type:R,transition:C,children:A,shapeFlag:_}=f;if(_&6){ct(f.component.subTree,p,m,y);return}if(_&128){f.suspense.move(p,m,y);return}if(_&64){R.move(f,p,m,ne);return}if(R===Ze){s(S,p,m);for(let O=0;O<A.length;O++)ct(A[O],p,m,y);s(f.anchor,p,m);return}if(R===io){F(f,p,m);return}if(y!==2&&_&1&&C)if(y===0)C.beforeEnter(S),s(S,p,m),Je(()=>C.enter(S),E);else{const{leave:O,delayLeave:$,afterLeave:q}=C,Z=()=>s(S,p,m),fe=()=>{O(S,()=>{Z(),q&&q()})};$?$(S,Z,fe):fe()}else s(S,p,m)},Xe=(f,p,m,y=!1,E=!1)=>{const{type:S,props:R,ref:C,children:A,dynamicChildren:_,shapeFlag:U,patchFlag:O,dirs:$}=f;if(C!=null&&Po(C,null,m,f,!0),U&256){p.ctx.deactivate(f);return}const q=U&1&&$,Z=!As(f);let fe;if(Z&&(fe=R&&R.onVnodeBeforeUnmount)&&Et(fe,p,f),U&6)w(f.component,m,y);else{if(U&128){f.suspense.unmount(m,y);return}q&&an(f,null,p,"beforeUnmount"),U&64?f.type.remove(f,p,m,E,ne,y):_&&(S!==Ze||O>0&&O&64)?k(_,p,m,!1,!0):(S===Ze&&O&384||!E&&U&16)&&k(A,p,m),y&&Rn(f)}(Z&&(fe=R&&R.onVnodeUnmounted)||q)&&Je(()=>{fe&&Et(fe,p,f),q&&an(f,null,p,"unmounted")},m)},Rn=f=>{const{type:p,el:m,anchor:y,transition:E}=f;if(p===Ze){Er(m,y);return}if(p===io){J(f);return}const S=()=>{r(m),E&&!E.persisted&&E.afterLeave&&E.afterLeave()};if(f.shapeFlag&1&&E&&!E.persisted){const{leave:R,delayLeave:C}=E,A=()=>R(m,S);C?C(f.el,S,A):A()}else S()},Er=(f,p)=>{let m;for(;f!==p;)m=d(f),r(f),f=m;r(p)},w=(f,p,m)=>{const{bum:y,scope:E,update:S,subTree:R,um:C}=f;y&&Lr(y),E.stop(),S&&(S.active=!1,Xe(R,f,p,m)),C&&Je(C,p),Je(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},k=(f,p,m,y=!1,E=!1,S=0)=>{for(let R=S;R<f.length;R++)Xe(f[R],p,m,y,E)},D=f=>f.shapeFlag&6?D(f.component.subTree):f.shapeFlag&128?f.suspense.next():d(f.anchor||f.el),V=(f,p,m)=>{f==null?p._vnode&&Xe(p._vnode,null,null,!0):I(p._vnode||null,f,p,null,null,null,m),Vc(),Gu(),p._vnode=f},ne={p:I,um:Xe,m:ct,r:Rn,mt:rn,mc:xt,pc:le,pbc:yt,n:D,o:t};let we,X;return e&&([we,X]=e(ne)),{render:V,hydrate:we,createApp:Lg(V,we)}}function cn({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function hh(t,e,n=!1){const s=t.children,r=e.children;if(G(s)&&G(r))for(let i=0;i<s.length;i++){const o=s[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=Ht(r[i]),a.el=o.el),n||hh(o,a)),a.type===Ti&&(a.el=o.el)}}function Vg(t){const e=t.slice(),n=[0];let s,r,i,o,a;const c=t.length;for(s=0;s<c;s++){const l=t[s];if(l!==0){if(r=n[n.length-1],t[r]<l){e[s]=r,n.push(s);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<l?i=a+1:o=a;l<t[n[i]]&&(i>0&&(e[s]=n[i-1]),n[i]=s)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const Ug=t=>t.__isTeleport,Ze=Symbol(void 0),Ti=Symbol(void 0),Gn=Symbol(void 0),io=Symbol(void 0),xs=[];let ht=null;function ot(t=!1){xs.push(ht=t?null:[])}function $g(){xs.pop(),ht=xs[xs.length-1]||null}let Bs=1;function Kc(t){Bs+=t}function fh(t){return t.dynamicChildren=Bs>0?ht||Vn:null,$g(),Bs>0&&ht&&ht.push(t),t}function pt(t,e,n,s,r,i){return fh(K(t,e,n,s,r,i,!0))}function Bg(t,e,n,s,r){return fh(ge(t,e,n,s,r,!0))}function Gr(t){return t?t.__v_isVNode===!0:!1}function ws(t,e){return t.type===e.type&&t.key===e.key}const Ii="__vInternal",dh=({key:t})=>t??null,Vr=({ref:t,ref_key:e,ref_for:n})=>t!=null?xe(t)||je(t)||Y(t)?{i:Ge,r:t,k:e,f:!!n}:t:null;function K(t,e=null,n=null,s=0,r=null,i=t===Ze?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&dh(e),ref:e&&Vr(e),scopeId:_i,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:s,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ge};return a?(Oa(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=xe(n)?8:16),Bs>0&&!o&&ht&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&ht.push(c),c}const ge=jg;function jg(t,e=null,n=null,s=0,r=null,i=!1){if((!t||t===_g)&&(t=Gn),Gr(t)){const a=Qn(t,e,!0);return n&&Oa(a,n),Bs>0&&!i&&ht&&(a.shapeFlag&6?ht[ht.indexOf(t)]=a:ht.push(a)),a.patchFlag|=-2,a}if(Jg(t)&&(t=t.__vccOpts),e){e=zg(e);let{class:a,style:c}=e;a&&!xe(a)&&(e.class=ya(a)),ve(c)&&(Vu(c)&&!G(c)&&(c=Ye({},c)),e.style=ma(c))}const o=xe(t)?1:og(t)?128:Ug(t)?64:ve(t)?4:Y(t)?2:0;return K(t,e,n,s,r,o,i,!0)}function zg(t){return t?Vu(t)||Ii in t?Ye({},t):t:null}function Qn(t,e,n=!1){const{props:s,ref:r,patchFlag:i,children:o}=t,a=e?Hg(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&dh(a),ref:e&&e.ref?n&&r?G(r)?r.concat(Vr(e)):[r,Vr(e)]:Vr(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ze?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Qn(t.ssContent),ssFallback:t.ssFallback&&Qn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx}}function ae(t=" ",e=0){return ge(Ti,null,t,e)}function bt(t){return t==null||typeof t=="boolean"?ge(Gn):G(t)?ge(Ze,null,t.slice()):typeof t=="object"?Ht(t):ge(Ti,null,String(t))}function Ht(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Qn(t)}function Oa(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(G(e))n=16;else if(typeof e=="object")if(s&65){const r=e.default;r&&(r._c&&(r._d=!1),Oa(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;!r&&!(Ii in e)?e._ctx=Ge:r===3&&Ge&&(Ge.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Y(e)?(e={default:e,_ctx:Ge},n=32):(e=String(e),s&64?(n=16,e=[ae(e)]):n=8);t.children=e,t.shapeFlag|=n}function Hg(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const r in s)if(r==="class")e.class!==s.class&&(e.class=ya([e.class,s.class]));else if(r==="style")e.style=ma([e.style,s.style]);else if(gi(r)){const i=e[r],o=s[r];o&&i!==o&&!(G(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=s[r])}return e}function Et(t,e,n,s=null){dt(t,e,7,[n,s])}const qg=uh();let Kg=0;function Wg(t,e,n){const s=t.type,r=(e?e.appContext:t.appContext)||qg,i={uid:Kg++,vnode:t,type:s,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new pp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:oh(s,r),emitsOptions:Yu(s,r),emit:null,emitted:null,propsDefaults:pe,inheritAttrs:s.inheritAttrs,ctx:pe,data:pe,props:pe,attrs:pe,slots:pe,refs:pe,setupState:pe,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Zp.bind(null,i),t.ce&&t.ce(i),i}let $e=null;const Yn=t=>{$e=t,t.scope.on()},vn=()=>{$e&&$e.scope.off(),$e=null};function ph(t){return t.vnode.shapeFlag&4}let js=!1;function Gg(t,e=!1){js=e;const{props:n,children:s}=t.vnode,r=ph(t);xg(t,n,r,e),Ng(t,s);const i=r?Qg(t,e):void 0;return js=!1,i}function Qg(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=Uu(new Proxy(t.ctx,Tg));const{setup:s}=n;if(s){const r=t.setupContext=s.length>1?Xg(t):null;Yn(t),cs();const i=Wt(s,t,0,[t.props,r]);if(ls(),vn(),Tu(i)){if(i.then(vn,vn),e)return i.then(o=>{Wc(t,o,e)}).catch(o=>{wi(o,t,0)});t.asyncDep=i}else Wc(t,i,e)}else gh(t,e)}function Wc(t,e,n){Y(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ve(e)&&(t.setupState=zu(e)),gh(t,n)}let Gc;function gh(t,e,n){const s=t.type;if(!t.render){if(!e&&Gc&&!s.render){const r=s.template||ka(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=s,l=Ye(Ye({isCustomElement:i,delimiters:a},o),c);s.render=Gc(r,l)}}t.render=s.render||ft}Yn(t),cs(),Ig(t),ls(),vn()}function Yg(t){return new Proxy(t.attrs,{get(e,n){return nt(t,"get","$attrs"),e[n]}})}function Xg(t){const e=s=>{t.exposed=s||{}};let n;return{get attrs(){return n||(n=Yg(t))},slots:t.slots,emit:t.emit,expose:e}}function Ci(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(zu(Uu(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ds)return Ds[n](t)},has(e,n){return n in e||n in Ds}}))}function Jg(t){return Y(t)&&"__vccOpts"in t}const rt=(t,e)=>Wp(t,e,js);function mh(t,e,n){const s=arguments.length;return s===2?ve(e)&&!G(e)?Gr(e)?ge(t,null,[e]):ge(t,e):ge(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&Gr(n)&&(n=[n]),ge(t,e,n))}const Zg=Symbol(""),em=()=>Ot(Zg),tm="3.2.45",nm="http://www.w3.org/2000/svg",fn=typeof document<"u"?document:null,Qc=fn&&fn.createElement("template"),sm={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const r=e?fn.createElementNS(nm,t):fn.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&r.setAttribute("multiple",s.multiple),r},createText:t=>fn.createTextNode(t),createComment:t=>fn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>fn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,r,i){const o=n?n.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===i||!(r=r.nextSibling)););else{Qc.innerHTML=s?`<svg>${t}</svg>`:t;const a=Qc.content;if(s){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function rm(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function im(t,e,n){const s=t.style,r=xe(n);if(n&&!r){for(const i in n)Fo(s,i,n[i]);if(e&&!xe(e))for(const i in e)n[i]==null&&Fo(s,i,"")}else{const i=s.display;r?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=i)}}const Yc=/\s*!important$/;function Fo(t,e,n){if(G(n))n.forEach(s=>Fo(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=om(t,e);Yc.test(n)?t.setProperty(as(s),n.replace(Yc,""),"important"):t[s]=n}}const Xc=["Webkit","Moz","ms"],oo={};function om(t,e){const n=oo[e];if(n)return n;let s=Kn(e);if(s!=="filter"&&s in t)return oo[e]=s;s=Su(s);for(let r=0;r<Xc.length;r++){const i=Xc[r]+s;if(i in t)return oo[e]=i}return e}const Jc="http://www.w3.org/1999/xlink";function am(t,e,n,s,r){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(Jc,e.slice(6,e.length)):t.setAttributeNS(Jc,e,n);else{const i=op(e);n==null||i&&!Eu(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function cm(t,e,n,s,r,i,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,r,i),t[e]=n??"";return}if(e==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=n;const c=n??"";(t.value!==c||t.tagName==="OPTION")&&(t.value=c),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=Eu(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function On(t,e,n,s){t.addEventListener(e,n,s)}function lm(t,e,n,s){t.removeEventListener(e,n,s)}function um(t,e,n,s,r=null){const i=t._vei||(t._vei={}),o=i[e];if(s&&o)o.value=s;else{const[a,c]=hm(e);if(s){const l=i[e]=pm(s,r);On(t,a,l,c)}else o&&(lm(t,a,o,c),i[e]=void 0)}}const Zc=/(?:Once|Passive|Capture)$/;function hm(t){let e;if(Zc.test(t)){e={};let s;for(;s=t.match(Zc);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):as(t.slice(2)),e]}let ao=0;const fm=Promise.resolve(),dm=()=>ao||(fm.then(()=>ao=0),ao=Date.now());function pm(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;dt(gm(s,n.value),e,5,[s])};return n.value=t,n.attached=dm(),n}function gm(t,e){if(G(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>r=>!r._stopped&&s&&s(r))}else return e}const el=/^on[a-z]/,mm=(t,e,n,s,r=!1,i,o,a,c)=>{e==="class"?rm(t,s,r):e==="style"?im(t,n,s):gi(e)?va(e)||um(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):ym(t,e,s,r))?cm(t,e,s,i,o,a,c):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),am(t,e,s,r))};function ym(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&el.test(e)&&Y(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||el.test(e)&&xe(n)?!1:e in t}const tl=t=>{const e=t.props["onUpdate:modelValue"]||!1;return G(e)?n=>Lr(e,n):e};function vm(t){t.target.composing=!0}function nl(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const co={created(t,{modifiers:{lazy:e,trim:n,number:s}},r){t._assign=tl(r);const i=s||r.props&&r.props.type==="number";On(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;n&&(a=a.trim()),i&&(a=Hr(a)),t._assign(a)}),n&&On(t,"change",()=>{t.value=t.value.trim()}),e||(On(t,"compositionstart",vm),On(t,"compositionend",nl),On(t,"change",nl))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:r}},i){if(t._assign=tl(i),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(r||t.type==="number")&&Hr(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},wm=Ye({patchProp:mm},sm);let sl;function Em(){return sl||(sl=Pg(wm))}const _m=(...t)=>{const e=Em().createApp(...t),{mount:n}=e;return e.mount=s=>{const r=bm(s);if(!r)return;const i=e._component;!Y(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=n(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function bm(t){return xe(t)?document.querySelector(t):t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let r=t.charCodeAt(s);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},Tm=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const r=t[n++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[n++];e[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[n++],o=t[n++],a=t[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},vh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,c=r+2<t.length,l=c?t[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let d=(a&15)<<2|l>>6,g=l&63;c||(g=64,o||(d=64)),s.push(n[u],n[h],n[d],n[g])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yh(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tm(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<t.length;){const i=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const l=r<t.length?n[t.charAt(r)]:64;++r;const h=r<t.length?n[t.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw Error();const d=i<<2|a>>4;if(s.push(d),l!==64){const g=a<<4&240|l>>2;if(s.push(g),h!==64){const v=l<<6&192|h;s.push(v)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Im=function(t){const e=yh(t);return vh.encodeByteArray(e,!0)},Qr=function(t){return Im(t).replace(/\./g,"")},Cm=function(t){try{return vh.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sm(){try{return typeof indexedDB=="object"}catch{return!1}}function Am(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function Dm(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=()=>Dm().__FIREBASE_DEFAULTS__,Rm=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},km=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Cm(t[1]);return e&&JSON.parse(e)},wh=()=>{try{return xm()||Rm()||km()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Nm=t=>{var e,n;return(n=(e=wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Om=t=>{const e=Nm(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Mm=()=>{var t;return(t=wh())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Qr(JSON.stringify(n)),Qr(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm="FirebaseError";class us extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Fm,Object.setPrototypeOf(this,us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eh.prototype.create)}}class Eh{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?Vm(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new us(r,a,s)}}function Vm(t,e){return t.replace(Um,(n,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const Um=/\{\$([^}]+)}/g;function Vo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const r of n){if(!s.includes(r))return!1;const i=t[r],o=e[r];if(rl(i)&&rl(o)){if(!Vo(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function rl(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Lm;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jm(e))try{this.getOrInitializeService({instanceIdentifier:un})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(e=un){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=un){return this.instances.has(e)}getOptions(e=un){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(e,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Bm(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=un){return this.component?this.component.multipleInstances?e:un:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Bm(t){return t===un?void 0:t}function jm(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $m(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var re;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(re||(re={}));const Hm={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},qm=re.INFO,Km={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},Wm=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),r=Km[e];if(r)console[r](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _h{constructor(e){this.name=e,this._logLevel=qm,this._logHandler=Wm,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Hm[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}}const Gm=(t,e)=>e.some(n=>t instanceof n);let il,ol;function Qm(){return il||(il=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ym(){return ol||(ol=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bh=new WeakMap,Uo=new WeakMap,Th=new WeakMap,lo=new WeakMap,Ma=new WeakMap;function Xm(t){const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gt(t.result)),r()},o=()=>{s(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&bh.set(n,t)}).catch(()=>{}),Ma.set(e,t),e}function Jm(t){if(Uo.has(t))return;const e=new Promise((n,s)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Uo.set(t,e)}let $o={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uo.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Th.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Zm(t){$o=t($o)}function ey(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(uo(this),e,...n);return Th.set(s,e.sort?e.sort():[e]),Gt(s)}:Ym().includes(t)?function(...e){return t.apply(uo(this),e),Gt(bh.get(this))}:function(...e){return Gt(t.apply(uo(this),e))}}function ty(t){return typeof t=="function"?ey(t):(t instanceof IDBTransaction&&Jm(t),Gm(t,Qm())?new Proxy(t,$o):t)}function Gt(t){if(t instanceof IDBRequest)return Xm(t);if(lo.has(t))return lo.get(t);const e=ty(t);return e!==t&&(lo.set(t,e),Ma.set(e,t)),e}const uo=t=>Ma.get(t);function ny(t,e,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Gt(o);return s&&o.addEventListener("upgradeneeded",c=>{s(Gt(o.result),c.oldVersion,c.newVersion,Gt(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const sy=["get","getKey","getAll","getAllKeys","count"],ry=["put","add","delete","clear"],ho=new Map;function al(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ho.get(e))return ho.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,r=ry.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||sy.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return ho.set(e,i),i}Zm(t=>({...t,get:(e,n,s)=>al(e,n)||t.get(e,n,s),has:(e,n)=>!!al(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(oy(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function oy(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Bo="@firebase/app",cl="0.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _n=new _h("@firebase/app"),ay="@firebase/app-compat",cy="@firebase/analytics-compat",ly="@firebase/analytics",uy="@firebase/app-check-compat",hy="@firebase/app-check",fy="@firebase/auth",dy="@firebase/auth-compat",py="@firebase/database",gy="@firebase/database-compat",my="@firebase/functions",yy="@firebase/functions-compat",vy="@firebase/installations",wy="@firebase/installations-compat",Ey="@firebase/messaging",_y="@firebase/messaging-compat",by="@firebase/performance",Ty="@firebase/performance-compat",Iy="@firebase/remote-config",Cy="@firebase/remote-config-compat",Sy="@firebase/storage",Ay="@firebase/storage-compat",Dy="@firebase/firestore",xy="@firebase/firestore-compat",Ry="firebase",ky="9.15.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="[DEFAULT]",Ny={[Bo]:"fire-core",[ay]:"fire-core-compat",[ly]:"fire-analytics",[cy]:"fire-analytics-compat",[hy]:"fire-app-check",[uy]:"fire-app-check-compat",[fy]:"fire-auth",[dy]:"fire-auth-compat",[py]:"fire-rtdb",[gy]:"fire-rtdb-compat",[my]:"fire-fn",[yy]:"fire-fn-compat",[vy]:"fire-iid",[wy]:"fire-iid-compat",[Ey]:"fire-fcm",[_y]:"fire-fcm-compat",[by]:"fire-perf",[Ty]:"fire-perf-compat",[Iy]:"fire-rc",[Cy]:"fire-rc-compat",[Sy]:"fire-gcs",[Ay]:"fire-gcs-compat",[Dy]:"fire-fst",[xy]:"fire-fst-compat","fire-js":"fire-js",[Ry]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr=new Map,zo=new Map;function Oy(t,e){try{t.container.addComponent(e)}catch(n){_n.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xr(t){const e=t.name;if(zo.has(e))return _n.debug(`There were multiple attempts to register component ${e}.`),!1;zo.set(e,t);for(const n of Yr.values())Oy(n,t);return!0}function My(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Qt=new Eh("app","Firebase",Ly);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qt.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=ky;function Ih(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:jo,automaticDataCollectionEnabled:!1},e),r=s.name;if(typeof r!="string"||!r)throw Qt.create("bad-app-name",{appName:String(r)});if(n||(n=Mm()),!n)throw Qt.create("no-options");const i=Yr.get(r);if(i){if(Vo(n,i.options)&&Vo(s,i.config))return i;throw Qt.create("duplicate-app",{appName:r})}const o=new zm(r);for(const c of zo.values())o.addComponent(c);const a=new Py(n,s,o);return Yr.set(r,a),a}function Vy(t=jo){const e=Yr.get(t);if(!e&&t===jo)return Ih();if(!e)throw Qt.create("no-app",{appName:t});return e}function zn(t,e,n){var s;let r=(s=Ny[t])!==null&&s!==void 0?s:t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_n.warn(a.join(" "));return}Xr(new Hs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy="firebase-heartbeat-database",$y=1,qs="firebase-heartbeat-store";let fo=null;function Ch(){return fo||(fo=ny(Uy,$y,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(qs)}}}).catch(t=>{throw Qt.create("idb-open",{originalErrorMessage:t.message})})),fo}async function By(t){try{return(await Ch()).transaction(qs).objectStore(qs).get(Sh(t))}catch(e){if(e instanceof us)_n.warn(e.message);else{const n=Qt.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_n.warn(n.message)}}}async function ll(t,e){try{const s=(await Ch()).transaction(qs,"readwrite");return await s.objectStore(qs).put(e,Sh(t)),s.done}catch(n){if(n instanceof us)_n.warn(n.message);else{const s=Qt.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_n.warn(s.message)}}}function Sh(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=1024,zy=30*24*60*60*1e3;class Hy{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ky(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ul();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=zy}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ul(),{heartbeatsToSend:n,unsentEntries:s}=qy(this._heartbeatsCache.heartbeats),r=Qr(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ul(){return new Date().toISOString().substring(0,10)}function qy(t,e=jy){const n=[];let s=t.slice();for(const r of t){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),hl(n)>e){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),hl(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Ky{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sm()?Am().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await By(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ll(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ll(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function hl(t){return Qr(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wy(t){Xr(new Hs("platform-logger",e=>new iy(e),"PRIVATE")),Xr(new Hs("heartbeat",e=>new Hy(e),"PRIVATE")),zn(Bo,cl,t),zn(Bo,cl,"esm2017"),zn("fire-js","")}Wy("");var Gy="firebase",Qy="9.15.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(Gy,Qy,"app");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},M,La=La||{},H=Yy||self;function Jr(){}function Si(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ir(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Xy(t){return Object.prototype.hasOwnProperty.call(t,po)&&t[po]||(t[po]=++Jy)}var po="closure_uid_"+(1e9*Math.random()>>>0),Jy=0;function Zy(t,e,n){return t.call.apply(t.bind,arguments)}function ev(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,s),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function ze(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?ze=Zy:ze=ev,ze.apply(null,arguments)}function Ar(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Le(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(s,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(s,o)}}function nn(){this.s=this.s,this.o=this.o}var tv=0;nn.prototype.s=!1;nn.prototype.na=function(){!this.s&&(this.s=!0,this.M(),tv!=0)&&Xy(this)};nn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ah=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pa(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function fl(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Si(s)){const r=t.length||0,i=s.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=s[o]}else t.push(s)}}function He(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}He.prototype.h=function(){this.defaultPrevented=!0};var nv=function(){if(!H.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{H.addEventListener("test",Jr,e),H.removeEventListener("test",Jr,e)}catch{}return t}();function Zr(t){return/^[\s\xa0]*$/.test(t)}var dl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function go(t,e){return t<e?-1:t>e?1:0}function Ai(){var t=H.navigator;return t&&(t=t.userAgent)?t:""}function It(t){return Ai().indexOf(t)!=-1}function Fa(t){return Fa[" "](t),t}Fa[" "]=Jr;function sv(t){var e=ov;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var rv=It("Opera"),Xn=It("Trident")||It("MSIE"),Dh=It("Edge"),Ho=Dh||Xn,xh=It("Gecko")&&!(Ai().toLowerCase().indexOf("webkit")!=-1&&!It("Edge"))&&!(It("Trident")||It("MSIE"))&&!It("Edge"),iv=Ai().toLowerCase().indexOf("webkit")!=-1&&!It("Edge");function Rh(){var t=H.document;return t?t.documentMode:void 0}var ei;e:{var mo="",yo=function(){var t=Ai();if(xh)return/rv:([^\);]+)(\)|;)/.exec(t);if(Dh)return/Edge\/([\d\.]+)/.exec(t);if(Xn)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(iv)return/WebKit\/(\S+)/.exec(t);if(rv)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(yo&&(mo=yo?yo[1]:""),Xn){var vo=Rh();if(vo!=null&&vo>parseFloat(mo)){ei=String(vo);break e}}ei=mo}var ov={};function av(){return sv(function(){let t=0;const e=dl(String(ei)).split("."),n=dl("9").split("."),s=Math.max(e.length,n.length);for(let o=0;t==0&&o<s;o++){var r=e[o]||"",i=n[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=go(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||go(r[2].length==0,i[2].length==0)||go(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var qo;if(H.document&&Xn){var pl=Rh();qo=pl||parseInt(ei,10)||void 0}else qo=void 0;var cv=qo;function Ks(t,e){if(He.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(xh){e:{try{Fa(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:lv[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ks.X.h.call(this)}}Le(Ks,He);var lv={2:"touch",3:"pen",4:"mouse"};Ks.prototype.h=function(){Ks.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var or="closure_listenable_"+(1e6*Math.random()|0),uv=0;function hv(t,e,n,s,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.ha=r,this.key=++uv,this.ba=this.ea=!1}function Di(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Va(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function kh(t){const e={};for(const n in t)e[n]=t[n];return e}const gl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Nh(t,e){let n,s;for(let r=1;r<arguments.length;r++){s=arguments[r];for(n in s)t[n]=s[n];for(let i=0;i<gl.length;i++)n=gl[i],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function xi(t){this.src=t,this.g={},this.h=0}xi.prototype.add=function(t,e,n,s,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Wo(t,e,s,r);return-1<o?(e=t[o],n||(e.ea=!1)):(e=new hv(e,this.src,i,!!s,r),e.ea=n,t.push(e)),e};function Ko(t,e){var n=e.type;if(n in t.g){var s=t.g[n],r=Ah(s,e),i;(i=0<=r)&&Array.prototype.splice.call(s,r,1),i&&(Di(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Wo(t,e,n,s){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ba&&i.listener==e&&i.capture==!!n&&i.ha==s)return r}return-1}var Ua="closure_lm_"+(1e6*Math.random()|0),wo={};function Oh(t,e,n,s,r){if(s&&s.once)return Lh(t,e,n,s,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Oh(t,e[i],n,s,r);return null}return n=ja(n),t&&t[or]?t.N(e,n,ir(s)?!!s.capture:!!s,r):Mh(t,e,n,!1,s,r)}function Mh(t,e,n,s,r,i){if(!e)throw Error("Invalid event type");var o=ir(r)?!!r.capture:!!r,a=Ba(t);if(a||(t[Ua]=a=new xi(t)),n=a.add(e,n,s,o,i),n.proxy)return n;if(s=fv(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)nv||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),s,r);else if(t.attachEvent)t.attachEvent(Fh(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function fv(){function t(n){return e.call(t.src,t.listener,n)}const e=dv;return t}function Lh(t,e,n,s,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Lh(t,e[i],n,s,r);return null}return n=ja(n),t&&t[or]?t.O(e,n,ir(s)?!!s.capture:!!s,r):Mh(t,e,n,!0,s,r)}function Ph(t,e,n,s,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Ph(t,e[i],n,s,r);else s=ir(s)?!!s.capture:!!s,n=ja(n),t&&t[or]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Wo(i,n,s,r),-1<n&&(Di(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Ba(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Wo(e,n,s,r)),(n=-1<t?e[t]:null)&&$a(n))}function $a(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[or])Ko(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Fh(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Ba(e))?(Ko(n,t),n.h==0&&(n.src=null,e[Ua]=null)):Di(t)}}}function Fh(t){return t in wo?wo[t]:wo[t]="on"+t}function dv(t,e){if(t.ba)t=!0;else{e=new Ks(e,this);var n=t.listener,s=t.ha||t.src;t.ea&&$a(t),t=n.call(s,e)}return t}function Ba(t){return t=t[Ua],t instanceof xi?t:null}var Eo="__closure_events_fn_"+(1e9*Math.random()>>>0);function ja(t){return typeof t=="function"?t:(t[Eo]||(t[Eo]=function(e){return t.handleEvent(e)}),t[Eo])}function Ne(){nn.call(this),this.i=new xi(this),this.P=this,this.I=null}Le(Ne,nn);Ne.prototype[or]=!0;Ne.prototype.removeEventListener=function(t,e,n,s){Ph(this,t,e,n,s)};function Me(t,e){var n,s=t.I;if(s)for(n=[];s;s=s.I)n.push(s);if(t=t.P,s=e.type||e,typeof e=="string")e=new He(e,t);else if(e instanceof He)e.target=e.target||t;else{var r=e;e=new He(s,t),Nh(e,r)}if(r=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];r=Dr(o,s,!0,e)&&r}if(o=e.g=t,r=Dr(o,s,!0,e)&&r,r=Dr(o,s,!1,e)&&r,n)for(i=0;i<n.length;i++)o=e.g=n[i],r=Dr(o,s,!1,e)&&r}Ne.prototype.M=function(){if(Ne.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Di(n[s]);delete t.g[e],t.h--}}this.I=null};Ne.prototype.N=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};Ne.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function Dr(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ba&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.ea&&Ko(t.i,o),r=a.call(c,s)!==!1&&r}}return r&&!s.defaultPrevented}var za=H.JSON.stringify;function pv(){var t=$h;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gv{constructor(){this.h=this.g=null}add(e,n){const s=Vh.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var Vh=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new mv,t=>t.reset());class mv{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yv(t){H.setTimeout(()=>{throw t},0)}function Uh(t,e){Go||vv(),Qo||(Go(),Qo=!0),$h.add(t,e)}var Go;function vv(){var t=H.Promise.resolve(void 0);Go=function(){t.then(wv)}}var Qo=!1,$h=new gv;function wv(){for(var t;t=pv();){try{t.h.call(t.g)}catch(n){yv(n)}var e=Vh;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qo=!1}function Ri(t,e){Ne.call(this),this.h=t||1,this.g=e||H,this.j=ze(this.lb,this),this.l=Date.now()}Le(Ri,Ne);M=Ri.prototype;M.ca=!1;M.R=null;M.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Me(this,"tick"),this.ca&&(Ha(this),this.start()))}};M.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Ha(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}M.M=function(){Ri.X.M.call(this),Ha(this),delete this.g};function qa(t,e,n){if(typeof t=="function")n&&(t=ze(t,n));else if(t&&typeof t.handleEvent=="function")t=ze(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:H.setTimeout(t,e||0)}function Bh(t){t.g=qa(()=>{t.g=null,t.i&&(t.i=!1,Bh(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Ev extends nn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Bh(this)}M(){super.M(),this.g&&(H.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ws(t){nn.call(this),this.h=t,this.g={}}Le(Ws,nn);var ml=[];function jh(t,e,n,s){Array.isArray(n)||(n&&(ml[0]=n.toString()),n=ml);for(var r=0;r<n.length;r++){var i=Oh(e,n[r],s||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function zh(t){Va(t.g,function(e,n){this.g.hasOwnProperty(n)&&$a(e)},t),t.g={}}Ws.prototype.M=function(){Ws.X.M.call(this),zh(this)};Ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ki(){this.g=!0}ki.prototype.Aa=function(){this.g=!1};function _v(t,e,n,s,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+l+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+s+") [attempt "+r+"]: "+e+`
`+n+`
`+o})}function bv(t,e,n,s,r,i,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+r+"]: "+e+`
`+n+`
`+i+" "+o})}function Fn(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Iv(t,n)+(s?" "+s:"")})}function Tv(t,e){t.info(function(){return"TIMEOUT: "+e})}ki.prototype.info=function(){};function Iv(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var r=s[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return za(n)}catch{return e}}var In={},yl=null;function Ni(){return yl=yl||new Ne}In.Pa="serverreachability";function Hh(t){He.call(this,In.Pa,t)}Le(Hh,He);function Gs(t){const e=Ni();Me(e,new Hh(e))}In.STAT_EVENT="statevent";function qh(t,e){He.call(this,In.STAT_EVENT,t),this.stat=e}Le(qh,He);function Qe(t){const e=Ni();Me(e,new qh(e,t))}In.Qa="timingevent";function Kh(t,e){He.call(this,In.Qa,t),this.size=e}Le(Kh,He);function ar(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return H.setTimeout(function(){t()},e)}var Oi={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Wh={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Ka(){}Ka.prototype.h=null;function vl(t){return t.h||(t.h=t.i())}function Gh(){}var cr={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Wa(){He.call(this,"d")}Le(Wa,He);function Ga(){He.call(this,"c")}Le(Ga,He);var Yo;function Mi(){}Le(Mi,Ka);Mi.prototype.g=function(){return new XMLHttpRequest};Mi.prototype.i=function(){return{}};Yo=new Mi;function lr(t,e,n,s){this.l=t,this.j=e,this.m=n,this.U=s||1,this.S=new Ws(this),this.O=Cv,t=Ho?125:void 0,this.T=new Ri(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Qh}function Qh(){this.i=null,this.g="",this.h=!1}var Cv=45e3,Xo={},ti={};M=lr.prototype;M.setTimeout=function(t){this.O=t};function Jo(t,e,n){t.K=1,t.v=Pi(Pt(e)),t.s=n,t.P=!0,Yh(t,null)}function Yh(t,e){t.F=Date.now(),ur(t),t.A=Pt(t.v);var n=t.A,s=t.U;Array.isArray(s)||(s=[String(s)]),rf(n.i,"t",s),t.C=0,n=t.l.H,t.h=new Qh,t.g=Sf(t.l,n?e:null,!t.s),0<t.N&&(t.L=new Ev(ze(t.La,t,t.g),t.N)),jh(t.S,t.g,"readystatechange",t.ib),e=t.H?kh(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Gs(),_v(t.j,t.u,t.A,t.m,t.U,t.s)}M.ib=function(t){t=t.target;const e=this.L;e&&Nt(t)==3?e.l():this.La(t)};M.La=function(t){try{if(t==this.g)e:{const u=Nt(this.g);var e=this.g.Ea();const h=this.g.aa();if(!(3>u)&&(u!=3||Ho||this.g&&(this.h.h||this.g.fa()||bl(this.g)))){this.I||u!=4||e==7||(e==8||0>=h?Gs(3):Gs(2)),Li(this);var n=this.g.aa();this.Y=n;t:if(Xh(this)){var s=bl(this.g);t="";var r=s.length,i=Nt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Rs(this);var o="";break t}this.h.i=new H.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:i&&e==r-1});s.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=n==200,bv(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zr(a)){var l=a;break t}}l=null}if(n=l)Fn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Zo(this,n);else{this.i=!1,this.o=3,Qe(12),pn(this),Rs(this);break e}}this.P?(Jh(this,u,o),Ho&&this.i&&u==3&&(jh(this.S,this.T,"tick",this.hb),this.T.start())):(Fn(this.j,this.m,o,null),Zo(this,o)),u==4&&pn(this),this.i&&!this.I&&(u==4?bf(this.l,this):(this.i=!1,ur(this)))}else n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Qe(12)):(this.o=0,Qe(13)),pn(this),Rs(this)}}}catch{}finally{}};function Xh(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function Jh(t,e,n){let s=!0,r;for(;!t.I&&t.C<n.length;)if(r=Sv(t,n),r==ti){e==4&&(t.o=4,Qe(14),s=!1),Fn(t.j,t.m,null,"[Incomplete Response]");break}else if(r==Xo){t.o=4,Qe(15),Fn(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Fn(t.j,t.m,r,null),Zo(t,r);Xh(t)&&r!=ti&&r!=Xo&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Qe(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tc(e),e.K=!0,Qe(11))):(Fn(t.j,t.m,n,"[Invalid Chunked Response]"),pn(t),Rs(t))}M.hb=function(){if(this.g){var t=Nt(this.g),e=this.g.fa();this.C<e.length&&(Li(this),Jh(this,t,e),this.i&&t!=4&&ur(this))}};function Sv(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?ti:(n=Number(e.substring(n,s)),isNaN(n)?Xo:(s+=1,s+n>e.length?ti:(e=e.substr(s,n),t.C=s+n,e)))}M.cancel=function(){this.I=!0,pn(this)};function ur(t){t.V=Date.now()+t.O,Zh(t,t.O)}function Zh(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ar(ze(t.gb,t),e)}function Li(t){t.B&&(H.clearTimeout(t.B),t.B=null)}M.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(Tv(this.j,this.A),this.K!=2&&(Gs(),Qe(17)),pn(this),this.o=2,Rs(this)):Zh(this,this.V-t)};function Rs(t){t.l.G==0||t.I||bf(t.l,t)}function pn(t){Li(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Ha(t.T),zh(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Zo(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||ea(n.h,t))){if(!t.J&&ea(n.h,t)&&n.G==3){try{var s=n.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var r=s;if(r[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)ri(n),Ui(n);else break e;ec(n),Qe(18)}}else n.Ba=r[1],0<n.Ba-n.T&&37500>r[2]&&n.L&&n.A==0&&!n.v&&(n.v=ar(ze(n.cb,n),6e3));if(1>=cf(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else gn(n,11)}else if((t.J||n.g==t)&&ri(n),!Zr(e))for(r=n.Fa.g.parse(e),e=0;e<r.length;e++){let l=r[e];if(n.T=l[0],l=l[1],n.G==2)if(l[0]=="c"){n.I=l[1],n.ka=l[2];const u=l[3];u!=null&&(n.ma=u,n.j.info("VER="+n.ma));const h=l[4];h!=null&&(n.Ca=h,n.j.info("SVER="+n.Ca));const d=l[5];d!=null&&typeof d=="number"&&0<d&&(s=1.5*d,n.J=s,n.j.info("backChannelRequestTimeoutMs_="+s)),s=n;const g=t.g;if(g){const v=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(v){var i=s.h;i.g||v.indexOf("spdy")==-1&&v.indexOf("quic")==-1&&v.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Qa(i,i.h),i.h=null))}if(s.D){const I=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(s.za=I,me(s.F,s.D,I))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms")),s=n;var o=t;if(s.sa=Cf(s,s.H?s.ka:null,s.V),o.J){lf(s.h,o);var a=o,c=s.J;c&&a.setTimeout(c),a.B&&(Li(a),ur(a)),s.g=o}else Ef(s);0<n.i.length&&$i(n)}else l[0]!="stop"&&l[0]!="close"||gn(n,7);else n.G==3&&(l[0]=="stop"||l[0]=="close"?l[0]=="stop"?gn(n,7):Za(n):l[0]!="noop"&&n.l&&n.l.wa(l),n.A=0)}}Gs(4)}catch{}}function Av(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Si(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function Dv(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Si(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function ef(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Si(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Dv(t),s=Av(t),r=s.length,i=0;i<r;i++)e.call(void 0,s[i],n&&n[i],t)}var tf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function xv(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),r=null;if(0<=s){var i=t[n].substring(0,s);r=t[n].substring(s+1)}else i=t[n];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function wn(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof wn){this.h=e!==void 0?e:t.h,ni(this,t.j),this.s=t.s,this.g=t.g,si(this,t.m),this.l=t.l,e=t.i;var n=new Qs;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),wl(this,n),this.o=t.o}else t&&(n=String(t).match(tf))?(this.h=!!e,ni(this,n[1]||"",!0),this.s=Is(n[2]||""),this.g=Is(n[3]||"",!0),si(this,n[4]),this.l=Is(n[5]||"",!0),wl(this,n[6]||"",!0),this.o=Is(n[7]||"")):(this.h=!!e,this.i=new Qs(null,this.h))}wn.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Cs(e,El,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Cs(e,El,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Cs(n,n.charAt(0)=="/"?Nv:kv,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Cs(n,Mv)),t.join("")};function Pt(t){return new wn(t)}function ni(t,e,n){t.j=n?Is(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function si(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function wl(t,e,n){e instanceof Qs?(t.i=e,Lv(t.i,t.h)):(n||(e=Cs(e,Ov)),t.i=new Qs(e,t.h))}function me(t,e,n){t.i.set(e,n)}function Pi(t){return me(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Is(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Cs(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Rv),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Rv(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var El=/[#\/\?@]/g,kv=/[#\?:]/g,Nv=/[#\?]/g,Ov=/[#\?@]/g,Mv=/#/g;function Qs(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function sn(t){t.g||(t.g=new Map,t.h=0,t.i&&xv(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}M=Qs.prototype;M.add=function(t,e){sn(this),this.i=null,t=hs(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nf(t,e){sn(t),e=hs(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function sf(t,e){return sn(t),e=hs(t,e),t.g.has(e)}M.forEach=function(t,e){sn(this),this.g.forEach(function(n,s){n.forEach(function(r){t.call(e,r,s,this)},this)},this)};M.oa=function(){sn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const r=t[s];for(let i=0;i<r.length;i++)n.push(e[s])}return n};M.W=function(t){sn(this);let e=[];if(typeof t=="string")sf(this,t)&&(e=e.concat(this.g.get(hs(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};M.set=function(t,e){return sn(this),this.i=null,t=hs(this,t),sf(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};M.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function rf(t,e,n){nf(t,e),0<n.length&&(t.i=null,t.g.set(hs(t,e),Pa(n)),t.h+=n.length)}M.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const i=encodeURIComponent(String(s)),o=this.W(s);for(s=0;s<o.length;s++){var r=i;o[s]!==""&&(r+="="+encodeURIComponent(String(o[s]))),t.push(r)}}return this.i=t.join("&")};function hs(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Lv(t,e){e&&!t.j&&(sn(t),t.i=null,t.g.forEach(function(n,s){var r=s.toLowerCase();s!=r&&(nf(this,s),rf(this,r,n))},t)),t.j=e}var Pv=class{constructor(e,n){this.h=e,this.g=n}};function of(t){this.l=t||Fv,H.PerformanceNavigationTiming?(t=H.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(H.g&&H.g.Ga&&H.g.Ga()&&H.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Fv=10;function af(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cf(t){return t.h?1:t.g?t.g.size:0}function ea(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qa(t,e){t.g?t.g.add(e):t.h=e}function lf(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}of.prototype.cancel=function(){if(this.i=uf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function uf(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Pa(t.i)}function Ya(){}Ya.prototype.stringify=function(t){return H.JSON.stringify(t,void 0)};Ya.prototype.parse=function(t){return H.JSON.parse(t,void 0)};function Vv(){this.g=new Ya}function Uv(t,e,n){const s=n||"";try{ef(t,function(r,i){let o=r;ir(r)&&(o=za(r)),e.push(s+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(s+"type="+encodeURIComponent("_badmap")),r}}function $v(t,e){const n=new ki;if(H.Image){const s=new Image;s.onload=Ar(xr,n,s,"TestLoadImage: loaded",!0,e),s.onerror=Ar(xr,n,s,"TestLoadImage: error",!1,e),s.onabort=Ar(xr,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=Ar(xr,n,s,"TestLoadImage: timeout",!1,e),H.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function xr(t,e,n,s,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(s)}catch{}}function hr(t){this.l=t.ac||null,this.j=t.jb||!1}Le(hr,Ka);hr.prototype.g=function(){return new Fi(this.l,this.j)};hr.prototype.i=function(t){return function(){return t}}({});function Fi(t,e){Ne.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Xa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Le(Fi,Ne);var Xa=0;M=Fi.prototype;M.open=function(t,e){if(this.readyState!=Xa)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ys(this)};M.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||H).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};M.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fr(this)),this.readyState=Xa};M.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof H.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hf(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function hf(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}M.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fr(this):Ys(this),this.readyState==3&&hf(this)}};M.Va=function(t){this.g&&(this.response=this.responseText=t,fr(this))};M.Ua=function(t){this.g&&(this.response=t,fr(this))};M.ga=function(){this.g&&fr(this)};function fr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ys(t)}M.setRequestHeader=function(t,e){this.v.append(t,e)};M.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};M.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ys(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Bv=H.JSON.parse;function Ee(t){Ne.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ff,this.K=this.L=!1}Le(Ee,Ne);var ff="",jv=/^https?$/i,zv=["POST","PUT"];M=Ee.prototype;M.Ka=function(t){this.L=t};M.da=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Yo.g(),this.C=this.u?vl(this.u):vl(Yo),this.g.onreadystatechange=ze(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){_l(this,i);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var r in s)n.set(r,s[r]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const i of s.keys())n.set(i,s.get(i));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),r=H.FormData&&t instanceof H.FormData,!(0<=Ah(zv,e))||s||r||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{gf(this),0<this.B&&((this.K=Hv(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ze(this.qa,this)):this.A=qa(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){_l(this,i)}};function Hv(t){return Xn&&av()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}M.qa=function(){typeof La<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Me(this,"timeout"),this.abort(8))};function _l(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,df(t),Vi(t)}function df(t){t.D||(t.D=!0,Me(t,"complete"),Me(t,"error"))}M.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Me(this,"complete"),Me(this,"abort"),Vi(this))};M.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Vi(this,!0)),Ee.X.M.call(this)};M.Ha=function(){this.s||(this.F||this.v||this.l?pf(this):this.fb())};M.fb=function(){pf(this)};function pf(t){if(t.h&&typeof La<"u"&&(!t.C[1]||Nt(t)!=4||t.aa()!=2)){if(t.v&&Nt(t)==4)qa(t.Ha,0,t);else if(Me(t,"readystatechange"),Nt(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=a===0){var r=String(t.H).match(tf)[1]||null;if(!r&&H.self&&H.self.location){var i=H.self.location.protocol;r=i.substr(0,i.length-1)}s=!jv.test(r?r.toLowerCase():"")}n=s}if(n)Me(t,"complete"),Me(t,"success");else{t.m=6;try{var o=2<Nt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",df(t)}}finally{Vi(t)}}}}function Vi(t,e){if(t.g){gf(t);const n=t.g,s=t.C[0]?Jr:null;t.g=null,t.C=null,e||Me(t,"ready");try{n.onreadystatechange=s}catch{}}}function gf(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(H.clearTimeout(t.A),t.A=null)}function Nt(t){return t.g?t.g.readyState:0}M.aa=function(){try{return 2<Nt(this)?this.g.status:-1}catch{return-1}};M.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};M.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Bv(e)}};function bl(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case ff:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}M.Ea=function(){return this.m};M.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mf(t){let e="";return Va(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function Ja(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=mf(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):me(t,e,n))}function Es(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function yf(t){this.Ca=0,this.i=[],this.j=new ki,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Es("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Es("baseRetryDelayMs",5e3,t),this.bb=Es("retryDelaySeedMs",1e4,t),this.$a=Es("forwardChannelMaxRetries",2,t),this.ta=Es("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new of(t&&t.concurrentRequestLimit),this.Fa=new Vv,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}M=yf.prototype;M.ma=8;M.G=1;function Za(t){if(vf(t),t.G==3){var e=t.U++,n=Pt(t.F);me(n,"SID",t.I),me(n,"RID",e),me(n,"TYPE","terminate"),dr(t,n),e=new lr(t,t.j,e,void 0),e.K=2,e.v=Pi(Pt(n)),n=!1,H.navigator&&H.navigator.sendBeacon&&(n=H.navigator.sendBeacon(e.v.toString(),"")),!n&&H.Image&&(new Image().src=e.v,n=!0),n||(e.g=Sf(e.l,null),e.g.da(e.v)),e.F=Date.now(),ur(e)}If(t)}function Ui(t){t.g&&(tc(t),t.g.cancel(),t.g=null)}function vf(t){Ui(t),t.u&&(H.clearTimeout(t.u),t.u=null),ri(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&H.clearTimeout(t.m),t.m=null)}function $i(t){af(t.h)||t.m||(t.m=!0,Uh(t.Ja,t),t.C=0)}function qv(t,e){return cf(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=ar(ze(t.Ja,t,e),Tf(t,t.C)),t.C++,!0)}M.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new lr(this,this.j,t,void 0);let i=this.s;if(this.S&&(i?(i=kh(i),Nh(i,this.S)):i=this.S),this.o!==null||this.N||(r.H=i,i=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){t:{var s=this.i[n];if("__data__"in s.g&&(s=s.g.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=wf(this,r,e),n=Pt(this.F),me(n,"RID",t),me(n,"CVER",22),this.D&&me(n,"X-HTTP-Session-Id",this.D),dr(this,n),i&&(this.N?e="headers="+encodeURIComponent(String(mf(i)))+"&"+e:this.o&&Ja(n,this.o,i)),Qa(this.h,r),this.Ya&&me(n,"TYPE","init"),this.O?(me(n,"$req",e),me(n,"SID","null"),r.Z=!0,Jo(r,n,null)):Jo(r,n,e),this.G=2}}else this.G==3&&(t?Tl(this,t):this.i.length==0||af(this.h)||Tl(this))};function Tl(t,e){var n;e?n=e.m:n=t.U++;const s=Pt(t.F);me(s,"SID",t.I),me(s,"RID",n),me(s,"AID",t.T),dr(t,s),t.o&&t.s&&Ja(s,t.o,t.s),n=new lr(t,t.j,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=wf(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Qa(t.h,n),Jo(n,s,e)}function dr(t,e){t.ia&&Va(t.ia,function(n,s){me(e,s,n)}),t.l&&ef({},function(n,s){me(e,s,n)})}function wf(t,e,n){n=Math.min(t.i.length,n);var s=t.l?ze(t.l.Ra,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let c=0;c<n;c++){let l=r[c].h;const u=r[c].g;if(l-=i,0>l)i=Math.max(0,r[c].h-100),a=!1;else try{Uv(u,o,"req"+l+"_")}catch{s&&s(u)}}if(a){s=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,s}function Ef(t){t.g||t.u||(t.Z=1,Uh(t.Ia,t),t.A=0)}function ec(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=ar(ze(t.Ia,t),Tf(t,t.A)),t.A++,!0)}M.Ia=function(){if(this.u=null,_f(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=ar(ze(this.eb,this),t)}};M.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Qe(10),Ui(this),_f(this))};function tc(t){t.B!=null&&(H.clearTimeout(t.B),t.B=null)}function _f(t){t.g=new lr(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=Pt(t.sa);me(e,"RID","rpc"),me(e,"SID",t.I),me(e,"CI",t.L?"0":"1"),me(e,"AID",t.T),me(e,"TYPE","xmlhttp"),dr(t,e),t.o&&t.s&&Ja(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Pi(Pt(e)),n.s=null,n.P=!0,Yh(n,t)}M.cb=function(){this.v!=null&&(this.v=null,Ui(this),ec(this),Qe(19))};function ri(t){t.v!=null&&(H.clearTimeout(t.v),t.v=null)}function bf(t,e){var n=null;if(t.g==e){ri(t),tc(t),t.g=null;var s=2}else if(ea(t.h,e))n=e.D,lf(t.h,e),s=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;s=Ni(),Me(s,new Kh(s,n)),$i(t)}else Ef(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(s==1&&qv(t,e)||s==2&&ec(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),r){case 1:gn(t,5);break;case 4:gn(t,10);break;case 3:gn(t,6);break;default:gn(t,2)}}}function Tf(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function gn(t,e){if(t.j.info("Error code "+e),e==2){var n=null;t.l&&(n=null);var s=ze(t.kb,t);n||(n=new wn("//www.google.com/images/cleardot.gif"),H.location&&H.location.protocol=="http"||ni(n,"https"),Pi(n)),$v(n.toString(),s)}else Qe(2);t.G=0,t.l&&t.l.va(e),If(t),vf(t)}M.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))};function If(t){if(t.G=0,t.la=[],t.l){const e=uf(t.h);(e.length!=0||t.i.length!=0)&&(fl(t.la,e),fl(t.la,t.i),t.h.i.length=0,Pa(t.i),t.i.length=0),t.l.ua()}}function Cf(t,e,n){var s=n instanceof wn?Pt(n):new wn(n,void 0);if(s.g!="")e&&(s.g=e+"."+s.g),si(s,s.m);else{var r=H.location;s=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new wn(null,void 0);s&&ni(i,s),e&&(i.g=e),r&&si(i,r),n&&(i.l=n),s=i}return n=t.D,e=t.za,n&&e&&me(s,n,e),me(s,"VER",t.ma),dr(t,s),s}function Sf(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Da&&!t.ra?new Ee(new hr({jb:!0})):new Ee(t.ra),e.Ka(t.H),e}function Af(){}M=Af.prototype;M.xa=function(){};M.wa=function(){};M.va=function(){};M.ua=function(){};M.Ra=function(){};function ii(){if(Xn&&!(10<=Number(cv)))throw Error("Environmental error: no available transport.")}ii.prototype.g=function(t,e){return new st(t,e)};function st(t,e){Ne.call(this),this.g=new yf(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Zr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zr(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new fs(this)}Le(st,Ne);st.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;Qe(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=Cf(t,null,t.V),$i(t)};st.prototype.close=function(){Za(this.g)};st.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=za(t),t=n);e.i.push(new Pv(e.ab++,t)),e.G==3&&$i(e)};st.prototype.M=function(){this.g.l=null,delete this.j,Za(this.g),delete this.g,st.X.M.call(this)};function Df(t){Wa.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Le(Df,Wa);function xf(){Ga.call(this),this.status=1}Le(xf,Ga);function fs(t){this.g=t}Le(fs,Af);fs.prototype.xa=function(){Me(this.g,"a")};fs.prototype.wa=function(t){Me(this.g,new Df(t))};fs.prototype.va=function(t){Me(this.g,new xf)};fs.prototype.ua=function(){Me(this.g,"b")};ii.prototype.createWebChannel=ii.prototype.g;st.prototype.send=st.prototype.u;st.prototype.open=st.prototype.m;st.prototype.close=st.prototype.close;Oi.NO_ERROR=0;Oi.TIMEOUT=8;Oi.HTTP_ERROR=6;Wh.COMPLETE="complete";Gh.EventType=cr;cr.OPEN="a";cr.CLOSE="b";cr.ERROR="c";cr.MESSAGE="d";Ne.prototype.listen=Ne.prototype.N;Ee.prototype.listenOnce=Ee.prototype.O;Ee.prototype.getLastError=Ee.prototype.Oa;Ee.prototype.getLastErrorCode=Ee.prototype.Ea;Ee.prototype.getStatus=Ee.prototype.aa;Ee.prototype.getResponseJson=Ee.prototype.Sa;Ee.prototype.getResponseText=Ee.prototype.fa;Ee.prototype.send=Ee.prototype.da;Ee.prototype.setWithCredentials=Ee.prototype.Ka;var Kv=function(){return new ii},Wv=function(){return Ni()},_o=Oi,Gv=Wh,Qv=In,Il={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Yv=hr,Rr=Gh,Xv=Ee;const Cl="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="9.15.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bn=new _h("@firebase/firestore");function Sl(){return bn.logLevel}function P(t,...e){if(bn.logLevel<=re.DEBUG){const n=e.map(nc);bn.debug(`Firestore (${ds}): ${t}`,...n)}}function Ft(t,...e){if(bn.logLevel<=re.ERROR){const n=e.map(nc);bn.error(`Firestore (${ds}): ${t}`,...n)}}function ta(t,...e){if(bn.logLevel<=re.WARN){const n=e.map(nc);bn.warn(`Firestore (${ds}): ${t}`,...n)}}function nc(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+t;throw Ft(e),new Error(e)}function de(t,e){t||z()}function Q(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Jv{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fe.UNAUTHENTICATED))}shutdown(){}}class Zv{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e0{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const r=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let i=new Yt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Yt,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await r(this.currentUser)})},a=c=>{P("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(P("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Yt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(P("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(de(typeof s.accessToken=="string"),new Rf(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return de(e===null||typeof e=="string"),new Fe(e)}}class t0{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(de(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class n0{constructor(e,n,s,r){this.h=e,this.l=n,this.m=s,this.g=r}getToken(){return Promise.resolve(new t0(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r0{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const s=i=>{i.error!=null&&P("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.A;return this.A=i.token,P("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>s(i))};const r=i=>{P("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?r(i):P("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(de(typeof n.token=="string"),this.A=n.token,new s0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i0(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const r=i0(40);for(let i=0;i<r.length;++i)s.length<20&&r[i]<n&&(s+=e.charAt(r[i]%e.length))}return s}}function ie(t,e){return t<e?-1:t>e?1:0}function Jn(t,e,n){return t.length===e.length&&t.every((s,r)=>n(s,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ae(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.timestamp=e}static fromTimestamp(e){return new W(e)}static min(){return new W(new Ae(0,0))}static max(){return new W(new Ae(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e,n,s){n===void 0?n=0:n>e.length&&z(),s===void 0?s=e.length-n:s>e.length-n&&z(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Xs.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xs?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let r=0;r<s;r++){const i=e.get(r),o=n.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ye extends Xs{construct(e,n,s){return new ye(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new j(b.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(r=>r.length>0))}return new ye(n)}static emptyPath(){return new ye([])}}const o0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Xs{construct(e,n,s){return new Be(e,n,s)}static isValidIdentifier(e){return o0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Be(["__name__"])}static fromServerFormat(e){const n=[];let s="",r=0;const i=()=>{if(s.length===0)throw new j(b.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new j(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[r+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new j(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(s+=a,r++):(i(),r++)}if(i(),o)throw new j(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(ye.fromString(e))}static fromName(e){return new B(ye.fromString(e).popFirst(5))}static empty(){return new B(ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new ye(e.slice()))}}function a0(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,r=W.fromTimestamp(s===1e9?new Ae(n+1,0):new Ae(n,s));return new Zt(r,B.empty(),e)}function c0(t){return new Zt(t.readTime,t.key,-1)}class Zt{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Zt(W.min(),B.empty(),-1)}static max(){return new Zt(W.max(),B.empty(),-1)}}function l0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=B.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h0{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pr(t){if(t.code!==b.FAILED_PRECONDITION||t.message!==u0)throw t;P("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((s,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(s,r)},this.catchCallback=i=>{this.wrapFailure(n,i).next(s,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,s)=>{n(e)})}static reject(e){return new T((n,s)=>{s(e)})}static waitFor(e){return new T((n,s)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&n()},c=>s(c))}),o=!0,i===r&&n()})}static or(e){let n=T.resolve(!1);for(const s of e)n=n.next(r=>r?T.resolve(r):s());return n}static forEach(e,n){const s=[];return e.forEach((r,i)=>{s.push(n.call(this,r,i))}),this.waitFor(s)}static mapArray(e,n){return new T((s,r)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const l=c;n(e[l]).next(u=>{o[l]=u,++a,a===i&&s(o)},u=>r(u))}})}static doWhile(e,n){return new T((s,r)=>{const i=()=>{e()===!0?n().next(()=>{i()},r):s()};i()})}}function gr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>n.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}sc.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n,s,r,i,o,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}}class Js{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Js("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Js&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ps(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Nf(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bi(t){return t==null}function oi(t){return t===0&&1/t==-1/0}function d0(t){return typeof t=="number"&&Number.isInteger(t)&&!oi(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new qe(n)}static fromUint8Array(e){const n=function(s){let r="";for(let i=0;i<s.length;++i)r+=String.fromCharCode(s[i]);return r}(e);return new qe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const p0=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function en(t){if(de(!!t),typeof t=="string"){let e=0;const n=p0.exec(t);if(de(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ce(t.seconds),nanos:Ce(t.nanos)}}function Ce(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zn(t){return typeof t=="string"?qe.fromBase64String(t):qe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Of(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mf(t){const e=t.mapValue.fields.__previous_value__;return Of(e)?Mf(e):e}function Zs(t){const e=en(t.mapValue.fields.__local_write_time__.timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Tn(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Of(t)?4:g0(t)?9007199254740991:10:z()}function At(t,e){if(t===e)return!0;const n=Tn(t);if(n!==Tn(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zs(t).isEqual(Zs(e));case 3:return function(s,r){if(typeof s.timestampValue=="string"&&typeof r.timestampValue=="string"&&s.timestampValue.length===r.timestampValue.length)return s.timestampValue===r.timestampValue;const i=en(s.timestampValue),o=en(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,r){return Zn(s.bytesValue).isEqual(Zn(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,r){return Ce(s.geoPointValue.latitude)===Ce(r.geoPointValue.latitude)&&Ce(s.geoPointValue.longitude)===Ce(r.geoPointValue.longitude)}(t,e);case 2:return function(s,r){if("integerValue"in s&&"integerValue"in r)return Ce(s.integerValue)===Ce(r.integerValue);if("doubleValue"in s&&"doubleValue"in r){const i=Ce(s.doubleValue),o=Ce(r.doubleValue);return i===o?oi(i)===oi(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return Jn(t.arrayValue.values||[],e.arrayValue.values||[],At);case 10:return function(s,r){const i=s.mapValue.fields||{},o=r.mapValue.fields||{};if(Al(i)!==Al(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!At(i[a],o[a])))return!1;return!0}(t,e);default:return z()}}function er(t,e){return(t.values||[]).find(n=>At(n,e))!==void 0}function es(t,e){if(t===e)return 0;const n=Tn(t),s=Tn(e);if(n!==s)return ie(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=Ce(r.integerValue||r.doubleValue),a=Ce(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Dl(t.timestampValue,e.timestampValue);case 4:return Dl(Zs(t),Zs(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(r,i){const o=Zn(r),a=Zn(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let c=0;c<o.length&&c<a.length;c++){const l=ie(o[c],a[c]);if(l!==0)return l}return ie(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=ie(Ce(r.latitude),Ce(i.latitude));return o!==0?o:ie(Ce(r.longitude),Ce(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let c=0;c<o.length&&c<a.length;++c){const l=es(o[c],a[c]);if(l)return l}return ie(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===kr.mapValue&&i===kr.mapValue)return 0;if(r===kr.mapValue)return 1;if(i===kr.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),c=i.fields||{},l=Object.keys(c);a.sort(),l.sort();for(let u=0;u<a.length&&u<l.length;++u){const h=ie(a[u],l[u]);if(h!==0)return h;const d=es(o[a[u]],c[l[u]]);if(d!==0)return d}return ie(a.length,l.length)}(t.mapValue,e.mapValue);default:throw z()}}function Dl(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=en(t),s=en(e),r=ie(n.seconds,s.seconds);return r!==0?r:ie(n.nanos,s.nanos)}function ts(t){return na(t)}function na(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const r=en(s);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Zn(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,B.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let r="[",i=!0;for(const o of s.values||[])i?i=!1:r+=",",r+=na(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(s){const r=Object.keys(s.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${na(s.fields[a])}`;return i+"}"}(t.mapValue):z();var e,n}function sa(t){return!!t&&"integerValue"in t}function rc(t){return!!t&&"arrayValue"in t}function xl(t){return!!t&&"nullValue"in t}function Rl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ur(t){return!!t&&"mapValue"in t}function ks(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ps(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ks(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ks(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g0(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n){this.position=e,this.inclusive=n}}function kl(t,e,n){let s=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?s=B.comparator(B.fromName(o.referenceValue),n.key):s=es(o,n.data.field(i.field)),i.dir==="desc"&&(s*=-1),s!==0)break}return s}function Nl(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!At(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{}class Se extends Lf{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new v0(e,n,s):n==="array-contains"?new _0(e,s):n==="in"?new b0(e,s):n==="not-in"?new T0(e,s):n==="array-contains-any"?new I0(e,s):new Se(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new w0(e,s):new E0(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(es(n,this.value)):n!==null&&Tn(this.value)===Tn(n)&&this.matchesComparison(es(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Dt extends Lf{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Dt(e,n)}matches(e){return Pf(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ht!==null||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return e!==null?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Pf(t){return t.op==="and"}function m0(t){return y0(t)&&Pf(t)}function y0(t){for(const e of t.filters)if(e instanceof Dt)return!1;return!0}function Ff(t){if(t instanceof Se)return t.field.canonicalString()+t.op.toString()+ts(t.value);{const e=t.filters.map(n=>Ff(n)).join(",");return`${t.op}(${e})`}}function Vf(t,e){return t instanceof Se?function(n,s){return s instanceof Se&&n.op===s.op&&n.field.isEqual(s.field)&&At(n.value,s.value)}(t,e):t instanceof Dt?function(n,s){return s instanceof Dt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((r,i,o)=>r&&Vf(i,s.filters[o]),!0):!1}(t,e):void z()}function Uf(t){return t instanceof Se?function(e){return`${e.field.canonicalString()} ${e.op} ${ts(e.value)}`}(t):t instanceof Dt?function(e){return e.op.toString()+" {"+e.getFilters().map(Uf).join(" ,")+"}"}(t):"Filter"}class v0 extends Se{constructor(e,n,s){super(e,n,s),this.key=B.fromName(s.referenceValue)}matches(e){const n=B.comparator(e.key,this.key);return this.matchesComparison(n)}}class w0 extends Se{constructor(e,n){super(e,"in",n),this.keys=$f("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E0 extends Se{constructor(e,n){super(e,"not-in",n),this.keys=$f("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $f(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>B.fromName(s.referenceValue))}class _0 extends Se{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return rc(n)&&er(n.arrayValue,this.value)}}class b0 extends Se{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&er(this.value.arrayValue,n)}}class T0 extends Se{constructor(e,n){super(e,"not-in",n)}matches(e){if(er(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!er(this.value.arrayValue,n)}}class I0 extends Se{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!rc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>er(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n="asc"){this.field=e,this.dir=n}}function C0(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e,n){this.comparator=e,this.root=n||Oe.EMPTY}insert(e,n){return new Re(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Oe.BLACK,null,null))}remove(e){return new Re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oe.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return n+s.left.size;r<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nr(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nr(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nr(this.root,e,this.comparator,!0)}}class Nr{constructor(e,n,s,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?s(e.key,n):1,n&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oe{constructor(e,n,s,r,i){this.key=e,this.value=n,this.color=s??Oe.RED,this.left=r??Oe.EMPTY,this.right=i??Oe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,r,i){return new Oe(e??this.key,n??this.value,s??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let r=this;const i=s(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,n,s),null):i===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Oe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return Oe.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}Oe.EMPTY=null,Oe.RED=!0,Oe.BLACK=!1;Oe.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(t,e,n,s,r){return this}insert(t,e,n){return new Oe(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new Re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ol(this.data.getIterator())}getIteratorFrom(e){return new Ol(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class Ol{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Ct([])}unionWith(e){let n=new De(Be.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Ct(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jn(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e){this.value=e}static empty(){return new it({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ur(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ks(n)}setAll(e){let n=Be.emptyPath(),s={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,s,r),s={},r=[],n=a.popLast()}o?s[a.lastSegment()]=ks(o):r.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,s,r)}delete(e){const n=this.field(e.popLast());Ur(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return At(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=n.mapValue.fields[e.get(s)];Ur(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,s){ps(n,(r,i)=>e[r]=i);for(const r of s)delete e[r]}clone(){return new it(ks(this.value))}}function Bf(t){const e=[];return ps(t.fields,(n,s)=>{const r=new Be([n]);if(Ur(s)){const i=Bf(s.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Ct(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n,s,r,i,o,a){this.key=e,this.documentType=n,this.version=s,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,W.min(),W.min(),W.min(),it.empty(),0)}static newFoundDocument(e,n,s,r){return new Ve(e,1,n,W.min(),s,r,0)}static newNoDocument(e,n){return new Ve(e,2,n,W.min(),W.min(),it.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,W.min(),W.min(),it.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(W.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=it.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=it.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=W.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,n=null,s=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ft=null}}function Ml(t,e=null,n=[],s=[],r=null,i=null,o=null){return new S0(t,e,n,s,r,i,o)}function ic(t){const e=Q(t);if(e.ft===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Ff(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Bi(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ts(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ts(s)).join(",")),e.ft=n}return e.ft}function oc(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C0(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vf(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nl(t.startAt,e.startAt)&&Nl(t.endAt,e.endAt)}function ra(t){return B.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e,n=null,s=[],r=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.dt=null,this._t=null,this.startAt,this.endAt}}function A0(t,e,n,s,r,i,o,a){return new ji(t,e,n,s,r,i,o,a)}function jf(t){return new ji(t)}function Ll(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D0(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function x0(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function R0(t){return t.collectionGroup!==null}function Hn(t){const e=Q(t);if(e.dt===null){e.dt=[];const n=x0(e),s=D0(e);if(n!==null&&s===null)n.isKeyField()||e.dt.push(new Ns(n)),e.dt.push(new Ns(Be.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.dt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ns(Be.keyField(),i))}}}return e.dt}function Vt(t){const e=Q(t);if(!e._t)if(e.limitType==="F")e._t=Ml(e.path,e.collectionGroup,Hn(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of Hn(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new Ns(i.field,o))}const s=e.endAt?new ai(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new ai(e.startAt.position,e.startAt.inclusive):null;e._t=Ml(e.path,e.collectionGroup,n,e.filters,e.limit,s,r)}return e._t}function ia(t,e,n){return new ji(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zi(t,e){return oc(Vt(t),Vt(e))&&t.limitType===e.limitType}function zf(t){return`${ic(Vt(t))}|lt:${t.limitType}`}function oa(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>Uf(s)).join(", ")}]`),Bi(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ts(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ts(s)).join(",")),`Target(${n})`}(Vt(t))}; limitType=${t.limitType})`}function ac(t,e){return e.isFoundDocument()&&function(n,s){const r=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(r):B.isDocumentKey(n.path)?n.path.isEqual(r):n.path.isImmediateParentOf(r)}(t,e)&&function(n,s){for(const r of Hn(n))if(!r.field.isKeyField()&&s.data.field(r.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const r of n.filters)if(!r.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(r,i,o){const a=kl(r,i,o);return r.inclusive?a<=0:a<0}(n.startAt,Hn(n),s)||n.endAt&&!function(r,i,o){const a=kl(r,i,o);return r.inclusive?a>=0:a>0}(n.endAt,Hn(n),s))}(t,e)}function k0(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Hf(t){return(e,n)=>{let s=!1;for(const r of Hn(t)){const i=N0(r,e,n);if(i!==0)return i;s=s||r.field.isKeyField()}return 0}}function N0(t,e,n){const s=t.field.isKeyField()?B.comparator(e.key,n.key):function(r,i,o){const a=i.data.field(r),c=o.data.field(r);return a!==null&&c!==null?es(a,c):z()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return z()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t,e){if(t.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oi(e)?"-0":e}}function Kf(t){return{integerValue:""+t}}function O0(t,e){return d0(e)?Kf(e):qf(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this._=void 0}}function M0(t,e,n){return t instanceof ci?function(s,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(n,e):t instanceof tr?Gf(t,e):t instanceof nr?Qf(t,e):function(s,r){const i=Wf(s,r),o=Pl(i)+Pl(s.gt);return sa(i)&&sa(s.gt)?Kf(o):qf(s.yt,o)}(t,e)}function L0(t,e,n){return t instanceof tr?Gf(t,e):t instanceof nr?Qf(t,e):n}function Wf(t,e){return t instanceof li?sa(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class ci extends Hi{}class tr extends Hi{constructor(e){super(),this.elements=e}}function Gf(t,e){const n=Yf(e);for(const s of t.elements)n.some(r=>At(r,s))||n.push(s);return{arrayValue:{values:n}}}class nr extends Hi{constructor(e){super(),this.elements=e}}function Qf(t,e){let n=Yf(e);for(const s of t.elements)n=n.filter(r=>!At(r,s));return{arrayValue:{values:n}}}class li extends Hi{constructor(e,n){super(),this.yt=e,this.gt=n}}function Pl(t){return Ce(t.integerValue||t.doubleValue)}function Yf(t){return rc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function P0(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof tr&&s instanceof tr||n instanceof nr&&s instanceof nr?Jn(n.elements,s.elements,At):n instanceof li&&s instanceof li?At(n.gt,s.gt):n instanceof ci&&s instanceof ci}(t.transform,e.transform)}class F0{constructor(e,n){this.version=e,this.transformResults=n}}class Mt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mt}static exists(e){return new Mt(void 0,e)}static updateTime(e){return new Mt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $r(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qi{}function Xf(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zf(t.key,Mt.none()):new mr(t.key,t.data,Mt.none());{const n=t.data,s=it.empty();let r=new De(Be.comparator);for(let i of e.fields)if(!r.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?s.delete(i):s.set(i,o),r=r.add(i)}return new Cn(t.key,s,new Ct(r.toArray()),Mt.none())}}function V0(t,e,n){t instanceof mr?function(s,r,i){const o=s.value.clone(),a=Vl(s.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Cn?function(s,r,i){if(!$r(s.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Vl(s.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(Jf(s)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(s,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function Os(t,e,n,s){return t instanceof mr?function(r,i,o,a){if(!$r(r.precondition,i))return o;const c=r.value.clone(),l=Ul(r.fieldTransforms,a,i);return c.setAll(l),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),null}(t,e,n,s):t instanceof Cn?function(r,i,o,a){if(!$r(r.precondition,i))return o;const c=Ul(r.fieldTransforms,a,i),l=i.data;return l.setAll(Jf(r)),l.setAll(c),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(r,i,o){return $r(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function U0(t,e){let n=null;for(const s of t.fieldTransforms){const r=e.data.field(s.field),i=Wf(s.transform,r||null);i!=null&&(n===null&&(n=it.empty()),n.set(s.field,i))}return n||null}function Fl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Jn(n,s,(r,i)=>P0(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class mr extends qi{constructor(e,n,s,r=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cn extends qi{constructor(e,n,s,r,i=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Jf(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Vl(t,e,n){const s=new Map;de(t.length===n.length);for(let r=0;r<n.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);s.set(i.field,L0(o,a,n[r]))}return s}function Ul(t,e,n){const s=new Map;for(const r of t){const i=r.transform,o=n.data.field(r.field);s.set(r.field,M0(i,o,e))}return s}class Zf extends qi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $0 extends qi{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,te;function j0(t){switch(t){default:return z();case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0}}function ed(t){if(t===void 0)return Ft("GRPC error has no .code"),b.UNKNOWN;switch(t){case Ie.OK:return b.OK;case Ie.CANCELLED:return b.CANCELLED;case Ie.UNKNOWN:return b.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return b.INTERNAL;case Ie.UNAVAILABLE:return b.UNAVAILABLE;case Ie.UNAUTHENTICATED:return b.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case Ie.NOT_FOUND:return b.NOT_FOUND;case Ie.ALREADY_EXISTS:return b.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return b.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case Ie.ABORTED:return b.ABORTED;case Ie.OUT_OF_RANGE:return b.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return b.UNIMPLEMENTED;case Ie.DATA_LOSS:return b.DATA_LOSS;default:return z()}}(te=Ie||(Ie={}))[te.OK=0]="OK",te[te.CANCELLED=1]="CANCELLED",te[te.UNKNOWN=2]="UNKNOWN",te[te.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",te[te.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",te[te.NOT_FOUND=5]="NOT_FOUND",te[te.ALREADY_EXISTS=6]="ALREADY_EXISTS",te[te.PERMISSION_DENIED=7]="PERMISSION_DENIED",te[te.UNAUTHENTICATED=16]="UNAUTHENTICATED",te[te.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",te[te.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",te[te.ABORTED=10]="ABORTED",te[te.OUT_OF_RANGE=11]="OUT_OF_RANGE",te[te.UNIMPLEMENTED=12]="UNIMPLEMENTED",te[te.INTERNAL=13]="INTERNAL",te[te.UNAVAILABLE=14]="UNAVAILABLE",te[te.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[r,i]of s)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[n]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,s)=>{for(const[r,i]of s)e(r,i)})}isEmpty(){return Nf(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new Re(B.comparator);function Ut(){return z0}const td=new Re(B.comparator);function Ss(...t){let e=td;for(const n of t)e=e.insert(n.key,n);return e}function nd(t){let e=td;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function mn(){return Ms()}function sd(){return Ms()}function Ms(){return new gs(t=>t.toString(),(t,e)=>t.isEqual(e))}const H0=new Re(B.comparator),q0=new De(B.comparator);function ee(...t){let e=q0;for(const n of t)e=e.add(n);return e}const K0=new De(ie);function rd(){return K0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,s,r,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const r=new Map;return r.set(e,yr.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Ki(W.min(),r,rd(),Ut(),ee())}}class yr{constructor(e,n,s,r,i){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yr(s,n,ee(),ee(),ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(e,n,s,r){this.It=e,this.removedTargetIds=n,this.key=s,this.Tt=r}}class id{constructor(e,n){this.targetId=e,this.Et=n}}class od{constructor(e,n,s=qe.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=r}}class $l{constructor(){this.At=0,this.Rt=jl(),this.bt=qe.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return this.At!==0}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=ee(),n=ee(),s=ee();return this.Rt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:s=s.add(r);break;default:z()}}),new yr(this.bt,this.Pt,e,n,s)}xt(){this.vt=!1,this.Rt=jl()}Nt(e,n){this.vt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class W0{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Ut(),this.qt=Bl(),this.Ut=new De(ie)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}jt(e){this.forEachTarget(e,n=>{const s=this.Wt(n);switch(e.state){case 0:this.zt(n)&&s.Dt(e.resumeToken);break;case 1:s.Mt(),s.Vt||s.xt(),s.Dt(e.resumeToken);break;case 2:s.Mt(),s.Vt||this.removeTarget(n);break;case 3:this.zt(n)&&(s.Ft(),s.Dt(e.resumeToken));break;case 4:this.zt(n)&&(this.Ht(n),s.Dt(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((s,r)=>{this.zt(r)&&n(r)})}Jt(e){const n=e.targetId,s=e.Et.count,r=this.Yt(n);if(r){const i=r.target;if(ra(i))if(s===0){const o=new B(i.path);this.Qt(n,o,Ve.newNoDocument(o,W.min()))}else de(s===1);else this.Xt(n)!==s&&(this.Ht(n),this.Ut=this.Ut.add(n))}}Zt(e){const n=new Map;this.Bt.forEach((i,o)=>{const a=this.Yt(o);if(a){if(i.current&&ra(a.target)){const c=new B(a.target.path);this.Lt.get(c)!==null||this.te(o,c)||this.Qt(o,c,Ve.newNoDocument(c,e))}i.St&&(n.set(o,i.Ct()),i.xt())}});let s=ee();this.qt.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const l=this.Yt(c);return!l||l.purpose===2||(a=!1,!1)}),a&&(s=s.add(i))}),this.Lt.forEach((i,o)=>o.setReadTime(e));const r=new Ki(e,n,this.Ut,this.Lt,s);return this.Lt=Ut(),this.qt=Bl(),this.Ut=new De(ie),r}Gt(e,n){if(!this.zt(e))return;const s=this.te(e,n.key)?2:0;this.Wt(e).Nt(n.key,s),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,s){if(!this.zt(e))return;const r=this.Wt(e);this.te(e,n)?r.Nt(n,1):r.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),s&&(this.Lt=this.Lt.insert(n,s))}removeTarget(e){this.Bt.delete(e)}Xt(e){const n=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let n=this.Bt.get(e);return n||(n=new $l,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new De(ie),this.qt=this.qt.insert(e,n)),n}zt(e){const n=this.Yt(e)!==null;return n||P("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new $l),this.$t.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.$t.getRemoteKeysForTarget(e).has(n)}}function Bl(){return new Re(B.comparator)}function jl(){return new Re(B.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Q0=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Y0=(()=>({and:"AND",or:"OR"}))();class X0{constructor(e,n){this.databaseId=e,this.wt=n}}function ui(t,e){return t.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ad(t,e){return t.wt?e.toBase64():e.toUint8Array()}function J0(t,e){return ui(t,e.toTimestamp())}function St(t){return de(!!t),W.fromTimestamp(function(e){const n=en(e);return new Ae(n.seconds,n.nanos)}(t))}function cc(t,e){return function(n){return new ye(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function cd(t){const e=ye.fromString(t);return de(fd(e)),e}function aa(t,e){return cc(t.databaseId,e.path)}function bo(t,e){const n=cd(e);if(n.get(1)!==t.databaseId.projectId)throw new j(b.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(b.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new B(ld(n))}function ca(t,e){return cc(t.databaseId,e)}function Z0(t){const e=cd(t);return e.length===4?ye.emptyPath():ld(e)}function la(t){return new ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ld(t){return de(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zl(t,e,n){return{name:aa(t,e),fields:n.value.mapValue.fields}}function e1(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(c,l){return c.wt?(de(l===void 0||typeof l=="string"),qe.fromBase64String(l||"")):(de(l===void 0||l instanceof Uint8Array),qe.fromUint8Array(l||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const l=c.code===void 0?b.UNKNOWN:ed(c.code);return new j(l,c.message||"")}(o);n=new od(s,r,i,a||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=bo(t,s.document.name),i=St(s.document.updateTime),o=s.document.createTime?St(s.document.createTime):W.min(),a=new it({mapValue:{fields:s.document.fields}}),c=Ve.newFoundDocument(r,i,o,a),l=s.targetIds||[],u=s.removedTargetIds||[];n=new Br(l,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=bo(t,s.document),i=s.readTime?St(s.readTime):W.min(),o=Ve.newNoDocument(r,i),a=s.removedTargetIds||[];n=new Br([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=bo(t,s.document),i=s.removedTargetIds||[];n=new Br([],i,r,null)}else{if(!("filter"in e))return z();{e.filter;const s=e.filter;s.targetId;const r=s.count||0,i=new B0(r),o=s.targetId;n=new id(o,i)}}return n}function t1(t,e){let n;if(e instanceof mr)n={update:zl(t,e.key,e.value)};else if(e instanceof Zf)n={delete:aa(t,e.key)};else if(e instanceof Cn)n={update:zl(t,e.key,e.data),updateMask:u1(e.fieldMask)};else{if(!(e instanceof $0))return z();n={verify:aa(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,i){const o=i.transform;if(o instanceof ci)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof tr)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof nr)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof li)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw z()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,r){return r.updateTime!==void 0?{updateTime:J0(s,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:z()}(t,e.precondition)),n}function n1(t,e){return t&&t.length>0?(de(e!==void 0),t.map(n=>function(s,r){let i=s.updateTime?St(s.updateTime):St(r);return i.isEqual(W.min())&&(i=St(r)),new F0(i,s.transformResults||[])}(n,e))):[]}function s1(t,e){return{documents:[ca(t,e.path)]}}function r1(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=ca(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ca(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const r=function(c){if(c.length!==0)return hd(Dt.create(c,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const i=function(c){if(c.length!==0)return c.map(l=>function(u){return{field:Mn(u.field),direction:a1(u.dir)}}(l))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=function(c,l){return c.wt||Bi(l)?l:{value:l}}(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),n}function i1(t){let e=Z0(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let r=null;if(s>0){de(s===1);const u=n.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(u){const h=ud(u);return h instanceof Dt&&m0(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(h){return new Ns(Ln(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(u)));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,Bi(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(u){const h=!!u.before,d=u.values||[];return new ai(d,h)}(n.startAt));let l=null;return n.endAt&&(l=function(u){const h=!u.before,d=u.values||[];return new ai(d,h)}(n.endAt)),A0(e,r,o,i,a,"F",c,l)}function o1(t,e){const n=function(s,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return z()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function ud(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Ln(e.unaryFilter.field);return Se.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Ln(e.unaryFilter.field);return Se.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ln(e.unaryFilter.field);return Se.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ln(e.unaryFilter.field);return Se.create(i,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(e){return Se.create(Ln(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Dt.create(e.compositeFilter.filters.map(n=>ud(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return z()}}(e.compositeFilter.op))}(t):z()}function a1(t){return G0[t]}function c1(t){return Q0[t]}function l1(t){return Y0[t]}function Mn(t){return{fieldPath:t.canonicalString()}}function Ln(t){return Be.fromServerFormat(t.fieldPath)}function hd(t){return t instanceof Se?function(e){if(e.op==="=="){if(Rl(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NAN"}};if(xl(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Rl(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NOT_NAN"}};if(xl(e.value))return{unaryFilter:{field:Mn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mn(e.field),op:c1(e.op),value:e.value}}}(t):t instanceof Dt?function(e){const n=e.getFilters().map(s=>hd(s));return n.length===1?n[0]:{compositeFilter:{op:l1(e.op),filters:n}}}(t):z()}function u1(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fd(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e,n,s,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&V0(i,e,s[r])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Os(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Os(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=sd();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(r.key)?null:a;const c=Xf(o,a);c!==null&&s.set(r.key,c),o.isValidDocument()||o.convertToNoDocument(W.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ee())}isEqual(e){return this.batchId===e.batchId&&Jn(this.mutations,e.mutations,(n,s)=>Fl(n,s))&&Jn(this.baseMutations,e.baseMutations,(n,s)=>Fl(n,s))}}class lc{constructor(e,n,s,r){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=r}static from(e,n,s){de(e.mutations.length===s.length);let r=H0;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,s[o].version);return new lc(e,n,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n,s,r,i=W.min(),o=W.min(),a=qe.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new En(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new En(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.ie=e}}function p1(t){const e=i1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ia(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(){this.Je=new m1}addToCollectionParentIndex(e,n){return this.Je.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this.Je.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(Zt.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(Zt.min())}updateCollectionGroup(e,n,s){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class m1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n]||new De(ye.comparator),i=!r.has(s);return this.index[n]=r.add(s),i}has(e){const n=e.lastSegment(),s=e.popLast(),r=this.index[n];return r&&r.has(s)}getEntries(e){return(this.index[e]||new De(ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ns(0)}static vn(){return new ns(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this.changes=new gs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?T.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,s,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(s=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(s!==null&&Os(s.mutation,r,Ct.empty(),Ae.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ee()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ee()){const r=mn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,s).next(i=>{let o=Ss();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=mn();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ee()))}populateOverlays(e,n,s){const r=[];return s.forEach(i=>{n.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,s,r){let i=Ut();const o=Ms(),a=Ms();return n.forEach((c,l)=>{const u=s.get(l.key);r.has(l.key)&&(u===void 0||u.mutation instanceof Cn)?i=i.insert(l.key,l):u!==void 0&&(o.set(l.key,u.mutation.getFieldMask()),Os(u.mutation,l,u.mutation.getFieldMask(),Ae.now()))}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((l,u)=>o.set(l,u)),n.forEach((l,u)=>{var h;return a.set(l,new v1(u,(h=o.get(l))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const s=Ms();let r=new Re((o,a)=>o-a),i=ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const l=n.get(c);if(l===null)return;let u=s.get(c)||Ct.empty();u=a.applyToLocalView(l,u),s.set(c,u);const h=(r.get(a.batchId)||ee()).add(c);r=r.insert(a.batchId,h)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),l=c.key,u=c.value,h=sd();u.forEach(d=>{if(!i.has(d)){const g=Xf(n.get(d),s.get(d));g!==null&&h.set(d,g),i=i.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,h))}return T.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(r){return B.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,r-i.size):T.resolve(mn());let a=-1,c=i;return o.next(l=>T.forEach(l,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?T.resolve():this.remoteDocumentCache.getEntry(e,u).next(d=>{c=c.insert(u,d)}))).next(()=>this.populateOverlays(e,l,i)).next(()=>this.computeViews(e,c,l,ee())).next(u=>({batchId:a,changes:nd(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new B(n)).next(s=>{let r=Ss();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const r=n.collectionGroup;let i=Ss();return this.indexManager.getCollectionParents(e,r).next(o=>T.forEach(o,a=>{const c=function(l,u){return new ji(u,null,l.explicitOrderBy.slice(),l.filters.slice(),l.limit,l.limitType,l.startAt,l.endAt)}(n,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,c,s).next(l=>{l.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,s){let r;return this.remoteDocumentCache.getAllFromCollection(e,n.path,s).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId))).next(i=>{i.forEach((a,c)=>{const l=c.getKey();r.get(l)===null&&(r=r.insert(l,Ve.newInvalidDocument(l)))});let o=Ss();return r.forEach((a,c)=>{const l=i.get(a);l!==void 0&&Os(l.mutation,c,Ct.empty(),Ae.now()),ac(n,c)&&(o=o.insert(a,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return T.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var s;return this.Zn.set(n.id,{id:(s=n).id,version:s.version,createTime:St(s.createTime)}),T.resolve()}getNamedQuery(e,n){return T.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(s){return{name:s.name,query:p1(s.bundledQuery),readTime:St(s.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.overlays=new Re(B.comparator),this.es=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const s=mn();return T.forEach(n,r=>this.getOverlay(e,r).next(i=>{i!==null&&s.set(r,i)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((r,i)=>{this.oe(e,n,i)}),T.resolve()}removeOverlaysForBatchId(e,n,s){const r=this.es.get(s);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.es.delete(s)),T.resolve()}getOverlaysForCollection(e,n,s){const r=mn(),i=n.length+1,o=new B(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,l=c.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===i&&c.largestBatchId>s&&r.set(c.getKey(),c)}return T.resolve(r)}getOverlaysForCollectionGroup(e,n,s,r){let i=new Re((l,u)=>l-u);const o=this.overlays.getIterator();for(;o.hasNext();){const l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>s){let u=i.get(l.largestBatchId);u===null&&(u=mn(),i=i.insert(l.largestBatchId,u)),u.set(l.getKey(),l)}}const a=mn(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((l,u)=>a.set(l,u)),!(a.size()>=r)););return T.resolve(a)}oe(e,n,s){const r=this.overlays.get(s.key);if(r!==null){const o=this.es.get(r.largestBatchId).delete(s.key);this.es.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new f1(n,s));let i=this.es.get(n);i===void 0&&(i=ee(),this.es.set(n,i)),this.es.set(n,i.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.ns=new De(ke.ss),this.rs=new De(ke.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const s=new ke(e,n);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.cs(new ke(e,n))}hs(e,n){e.forEach(s=>this.removeReference(s,n))}ls(e){const n=new B(new ye([])),s=new ke(n,e),r=new ke(n,e+1),i=[];return this.rs.forEachInRange([s,r],o=>{this.cs(o),i.push(o.key)}),i}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new B(new ye([])),s=new ke(n,e),r=new ke(n,e+1);let i=ee();return this.rs.forEachInRange([s,r],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new ke(e,0),s=this.ns.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class ke{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return B.comparator(e.key,n.key)||ie(e._s,n._s)}static os(e,n){return ie(e._s,n._s)||B.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new De(ke.ss)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new h1(i,n,s,r);this.mutationQueue.push(o);for(const a of r)this.gs=this.gs.add(new ke(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(o)}lookupMutationBatch(e,n){return T.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,r=this.ps(s),i=r<0?0:r;return T.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new ke(n,0),r=new ke(n,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([s,r],o=>{const a=this.ys(o._s);i.push(a)}),T.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new De(ie);return n.forEach(r=>{const i=new ke(r,0),o=new ke(r,Number.POSITIVE_INFINITY);this.gs.forEachInRange([i,o],a=>{s=s.add(a._s)})}),T.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,r=s.length+1;let i=s;B.isDocumentKey(i)||(i=i.child(""));const o=new ke(new B(i),0);let a=new De(ie);return this.gs.forEachWhile(c=>{const l=c.key.path;return!!s.isPrefixOf(l)&&(l.length===r&&(a=a.add(c._s)),!0)},o),T.resolve(this.Is(a))}Is(e){const n=[];return e.forEach(s=>{const r=this.ys(s);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){de(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.gs;return T.forEach(n.mutations,r=>{const i=new ke(r.key,n.batchId);return s=s.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,n){const s=new ke(n,0),r=this.gs.firstAfterOrEqual(s);return T.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.Es=e,this.docs=new Re(B.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,r=this.docs.get(s),i=r?r.size:0,o=this.Es(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return T.resolve(s?s.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let s=Ut();return n.forEach(r=>{const i=this.docs.get(r);s=s.insert(r,i?i.document.mutableCopy():Ve.newInvalidDocument(r))}),T.resolve(s)}getAllFromCollection(e,n,s){let r=Ut();const i=new B(n.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:a,value:{document:c}}=o.getNext();if(!n.isPrefixOf(a.path))break;a.path.length>n.length+1||l0(c0(c),s)<=0||(r=r.insert(c.key,c.mutableCopy()))}return T.resolve(r)}getAllFromCollectionGroup(e,n,s,r){z()}As(e,n){return T.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new I1(this)}getSize(e){return T.resolve(this.size)}}class I1 extends y1{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((s,r)=>{r.isValidDocument()?n.push(this.Yn.addEntry(e,r)):this.Yn.removeEntry(s)}),T.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.persistence=e,this.Rs=new gs(n=>ic(n),oc),this.lastRemoteSnapshotVersion=W.min(),this.highestTargetId=0,this.bs=0,this.Ps=new uc,this.targetCount=0,this.vs=ns.Pn()}forEachTarget(e,n){return this.Rs.forEach((s,r)=>n(r)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.bs&&(this.bs=n),T.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new ns(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.Dn(n),T.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,s){let r=0;const i=[];return this.Rs.forEach((o,a)=>{a.sequenceNumber<=n&&s.get(a.targetId)===null&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),T.waitFor(i).next(()=>r)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const s=this.Rs.get(n)||null;return T.resolve(s)}addMatchingKeys(e,n,s){return this.Ps.us(n,s),T.resolve()}removeMatchingKeys(e,n,s){this.Ps.hs(n,s);const r=this.persistence.referenceDelegate,i=[];return r&&n.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),T.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),T.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ps.ds(n);return T.resolve(s)}containsKey(e,n){return T.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new sc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new C1(this),this.indexManager=new g1,this.remoteDocumentCache=function(s){return new T1(s)}(s=>this.referenceDelegate.xs(s)),this.yt=new d1(n),this.Ns=new E1(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Vs[e.toKey()];return s||(s=new b1(n,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,s){P("MemoryPersistence","Starting transaction:",e);const r=new A1(this.Ss.next());return this.referenceDelegate.ks(),s(r).next(i=>this.referenceDelegate.Os(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}Ms(e,n){return T.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,n)))}}class A1 extends h0{constructor(e){super(),this.currentSequenceNumber=e}}class hc{constructor(e){this.persistence=e,this.Fs=new uc,this.$s=null}static Bs(e){return new hc(e)}get Ls(){if(this.$s)return this.$s;throw z()}addReference(e,n,s){return this.Fs.addReference(s,n),this.Ls.delete(s.toString()),T.resolve()}removeReference(e,n,s){return this.Fs.removeReference(s,n),this.Ls.add(s.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),T.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(r=>this.Ls.add(r.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(i=>this.Ls.add(i.toString()))}).next(()=>s.removeTargetData(e,n))}ks(){this.$s=new Set}Os(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Ls,s=>{const r=B.fromPath(s);return this.qs(e,r).next(i=>{i||n.removeEntry(r,W.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.qs(e,n).next(s=>{s?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}qs(e,n){return T.or([()=>T.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ms(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n,s,r){this.targetId=e,this.fromCache=n,this.Si=s,this.Di=r}static Ci(e,n){let s=ee(),r=ee();for(const i of n.docChanges)switch(i.type){case 0:s=s.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new fc(e,n.fromCache,s,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,s,r){return this.ki(e,n).next(i=>i||this.Oi(e,n,r,s)).next(i=>i||this.Mi(e,n))}ki(e,n){if(Ll(n))return T.resolve(null);let s=Vt(n);return this.indexManager.getIndexType(e,s).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=ia(n,null,"F"),s=Vt(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(i=>{const o=ee(...i);return this.Ni.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,s).next(c=>{const l=this.Fi(n,a);return this.$i(n,l,o,c.readTime)?this.ki(e,ia(n,null,"F")):this.Bi(e,l,n,c)}))})))}Oi(e,n,s,r){return Ll(n)||r.isEqual(W.min())?this.Mi(e,n):this.Ni.getDocuments(e,s).next(i=>{const o=this.Fi(n,i);return this.$i(n,o,s,r)?this.Mi(e,n):(Sl()<=re.DEBUG&&P("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),oa(n)),this.Bi(e,o,n,a0(r,-1)))})}Fi(e,n){let s=new De(Hf(e));return n.forEach((r,i)=>{ac(e,i)&&(s=s.add(i))}),s}$i(e,n,s,r){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(e,n){return Sl()<=re.DEBUG&&P("QueryEngine","Using full collection scan to execute query:",oa(n)),this.Ni.getDocumentsMatchingQuery(e,n,Zt.min())}Bi(e,n,s,r){return this.Ni.getDocumentsMatchingQuery(e,s,r).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e,n,s,r){this.persistence=e,this.Li=n,this.yt=r,this.qi=new Re(ie),this.Ui=new gs(i=>ic(i),oc),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new w1(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.qi))}}function R1(t,e,n,s){return new x1(t,e,n,s)}async function dd(t,e){const n=Q(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let r;return n.mutationQueue.getAllMutationBatches(s).next(i=>(r=i,n.Qi(e),n.mutationQueue.getAllMutationBatches(s))).next(i=>{const o=[],a=[];let c=ee();for(const l of r){o.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}for(const l of i){a.push(l.batchId);for(const u of l.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(s,c).next(l=>({ji:l,removedBatchIds:o,addedBatchIds:a}))})})}function k1(t,e){const n=Q(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const r=e.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(o,a,c,l){const u=c.batch,h=u.keys();let d=T.resolve();return h.forEach(g=>{d=d.next(()=>l.getEntry(a,g)).next(v=>{const I=c.docVersions.get(g);de(I!==null),v.version.compareTo(I)<0&&(u.applyToRemoteDocument(v,c),v.isValidDocument()&&(v.setReadTime(c.commitVersion),l.addEntry(v)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,s,e,i).next(()=>i.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let a=ee();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>n.localDocuments.getDocuments(s,r))})}function pd(t){const e=Q(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function N1(t,e){const n=Q(t),s=e.snapshotVersion;let r=n.qi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});r=n.qi;const a=[];e.targetChanges.forEach((u,h)=>{const d=r.get(h);if(!d)return;a.push(n.Cs.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.Cs.addMatchingKeys(i,u.addedDocuments,h)));let g=d.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(h)?g=g.withResumeToken(qe.EMPTY_BYTE_STRING,W.min()).withLastLimboFreeSnapshotVersion(W.min()):u.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(u.resumeToken,s)),r=r.insert(h,g),function(v,I,N){return v.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(d,g,u)&&a.push(n.Cs.updateTargetData(i,g))});let c=Ut(),l=ee();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(O1(i,o,e.documentUpdates).next(u=>{c=u.Wi,l=u.zi})),!s.isEqual(W.min())){const u=n.Cs.getLastRemoteSnapshotVersion(i).next(h=>n.Cs.setTargetsMetadata(i,i.currentSequenceNumber,s));a.push(u)}return T.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,l)).next(()=>c)}).then(i=>(n.qi=r,i))}function O1(t,e,n){let s=ee(),r=ee();return n.forEach(i=>s=s.add(i)),e.getEntries(t,s).next(i=>{let o=Ut();return n.forEach((a,c)=>{const l=i.get(a);c.isFoundDocument()!==l.isFoundDocument()&&(r=r.add(a)),c.isNoDocument()&&c.version.isEqual(W.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!l.isValidDocument()||c.version.compareTo(l.version)>0||c.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):P("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",c.version)}),{Wi:o,zi:r}})}function M1(t,e){const n=Q(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function L1(t,e){const n=Q(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let r;return n.Cs.getTargetData(s,e).next(i=>i?(r=i,T.resolve(r)):n.Cs.allocateTargetId(s).next(o=>(r=new En(e,o,0,s.currentSequenceNumber),n.Cs.addTargetData(s,r).next(()=>r))))}).then(s=>{const r=n.qi.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.qi=n.qi.insert(s.targetId,s),n.Ui.set(e,s.targetId)),s})}async function ua(t,e,n){const s=Q(t),r=s.qi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",i,o=>s.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!gr(o))throw o;P("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.qi=s.qi.remove(e),s.Ui.delete(r.target)}function Hl(t,e,n){const s=Q(t);let r=W.min(),i=ee();return s.persistence.runTransaction("Execute query","readonly",o=>function(a,c,l){const u=Q(a),h=u.Ui.get(l);return h!==void 0?T.resolve(u.qi.get(h)):u.Cs.getTargetData(c,l)}(s,o,Vt(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>s.Li.getDocumentsMatchingQuery(o,e,n?r:W.min(),n?i:ee())).next(a=>(P1(s,k0(e),a),{documents:a,Hi:i})))}function P1(t,e,n){let s=t.Ki.get(e)||W.min();n.forEach((r,i)=>{i.readTime.compareTo(s)>0&&(s=i.readTime)}),t.Ki.set(e,s)}class ql{constructor(){this.activeTargetIds=rd()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class F1{constructor(){this.Lr=new ql,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,n,s){this.qr[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new ql,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{Ur(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){P("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){P("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,n,s,r,i){const o=this.ho(e,n);P("RestConnection","Sending: ",o,s);const a={};return this.lo(a,r,i),this.fo(e,o,a,s).then(c=>(P("RestConnection","Received: ",c),c),c=>{throw ta("RestConnection",`${e} failed with error: `,c,"url: ",o,"request:",s),c})}_o(e,n,s,r,i,o){return this.ao(e,n,s,r,i)}lo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+ds,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((r,i)=>e[i]=r),s&&s.headers.forEach((r,i)=>e[i]=r)}ho(e,n){const s=U1[e];return`${this.oo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,n,s,r){return new Promise((i,o)=>{const a=new Xv;a.setWithCredentials(!0),a.listenOnce(Gv.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case _o.NO_ERROR:const l=a.getResponseJson();P("Connection","XHR received:",JSON.stringify(l)),i(l);break;case _o.TIMEOUT:P("Connection",'RPC "'+e+'" timed out'),o(new j(b.DEADLINE_EXCEEDED,"Request time out"));break;case _o.HTTP_ERROR:const u=a.getStatus();if(P("Connection",'RPC "'+e+'" failed with status:',u,"response text:",a.getResponseText()),u>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const g=function(v){const I=v.toLowerCase().replace(/_/g,"-");return Object.values(b).indexOf(I)>=0?I:b.UNKNOWN}(d.status);o(new j(g,d.message))}else o(new j(b.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new j(b.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{P("Connection",'RPC "'+e+'" completed.')}});const c=JSON.stringify(r);a.send(n,"POST",c,s,15)})}wo(e,n,s){const r=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Kv(),o=Wv(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Yv({})),this.lo(a.initMessageHeaders,n,s),a.encodeInitMessageHeaders=!0;const c=r.join("");P("Connection","Creating WebChannel: "+c,a);const l=i.createWebChannel(c,a);let u=!1,h=!1;const d=new $1({Hr:v=>{h?P("Connection","Not sending because WebChannel is closed:",v):(u||(P("Connection","Opening WebChannel transport."),l.open(),u=!0),P("Connection","WebChannel sending:",v),l.send(v))},Jr:()=>l.close()}),g=(v,I,N)=>{v.listen(I,x=>{try{N(x)}catch(L){setTimeout(()=>{throw L},0)}})};return g(l,Rr.EventType.OPEN,()=>{h||P("Connection","WebChannel transport opened.")}),g(l,Rr.EventType.CLOSE,()=>{h||(h=!0,P("Connection","WebChannel transport closed"),d.io())}),g(l,Rr.EventType.ERROR,v=>{h||(h=!0,ta("Connection","WebChannel transport errored:",v),d.io(new j(b.UNAVAILABLE,"The operation could not be completed")))}),g(l,Rr.EventType.MESSAGE,v=>{var I;if(!h){const N=v.data[0];de(!!N);const x=N,L=x.error||((I=x[0])===null||I===void 0?void 0:I.error);if(L){P("Connection","WebChannel received error:",L);const F=L.status;let J=function(Ke){const et=Ie[Ke];if(et!==void 0)return ed(et)}(F),_e=L.message;J===void 0&&(J=b.INTERNAL,_e="Unknown error status: "+F+" with message "+L.message),h=!0,d.io(new j(J,_e)),l.close()}else P("Connection","WebChannel received:",N),d.ro(N)}}),g(o,Qv.STAT_EVENT,v=>{v.stat===Il.PROXY?P("Connection","Detected buffering proxy"):v.stat===Il.NOPROXY&&P("Connection","Detected no buffering proxy")}),setTimeout(()=>{d.so()},0),d}}function To(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t){return new X0(t,!0)}class gd{constructor(e,n,s=1e3,r=1.5,i=6e4){this.Hs=e,this.timerId=n,this.mo=s,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const n=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),r=Math.max(0,n-s);r>0&&P("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){this.To!==null&&(this.To.skipDelay(),this.To=null)}cancel(){this.To!==null&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,s,r,i,o,a,c){this.Hs=e,this.vo=s,this.Vo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new gd(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.qo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===b.RESOURCE_EXHAUSTED?(Ft(n.toString()),Ft("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):n&&n.code===b.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Uo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,r])=>{this.So===n&&this.Go(s,r)},s=>{e(()=>{const r=new j(b.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(r)})})}Go(e,n){const s=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(r=>{s(()=>this.Qo(r))}),this.stream.onMessage(r=>{s(()=>this.onMessage(r))})}Oo(){this.state=5,this.xo.Ro(async()=>{this.state=0,this.start()})}Qo(e){return P("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(P("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class j1 extends md{constructor(e,n,s,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,r,o),this.yt=i}jo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.xo.reset();const n=e1(this.yt,e),s=function(r){if(!("targetChange"in r))return W.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?W.min():i.readTime?St(i.readTime):W.min()}(e);return this.listener.Wo(n,s)}zo(e){const n={};n.database=la(this.yt),n.addTarget=function(r,i){let o;const a=i.target;return o=ra(a)?{documents:s1(r,a)}:{query:r1(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=ad(r,i.resumeToken):i.snapshotVersion.compareTo(W.min())>0&&(o.readTime=ui(r,i.snapshotVersion.toTimestamp())),o}(this.yt,e);const s=o1(this.yt,e);s&&(n.labels=s),this.Bo(n)}Ho(e){const n={};n.database=la(this.yt),n.removeTarget=e,this.Bo(n)}}class z1 extends md{constructor(e,n,s,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,r,o),this.yt=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(de(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=n1(e.writeResults,e.commitTime),s=St(e.commitTime);return this.listener.Zo(s,n)}return de(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=la(this.yt),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>t1(this.yt,s))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1 extends class{}{constructor(e,n,s,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.yt=r,this.nu=!1}su(){if(this.nu)throw new j(b.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,n,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.ao(e,n,s,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(b.UNKNOWN,r.toString())})}_o(e,n,s,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection._o(e,n,s,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===b.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(b.UNKNOWN,i.toString())})}terminate(){this.nu=!0}}class q1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ft(n),this.ou=!1):P("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n,s,r,i){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.Ur(o=>{s.enqueueAndForget(async()=>{Sn(this)&&(P("RemoteStore","Restarting streams for network reachability change."),await async function(a){const c=Q(a);c._u.add(4),await vr(c),c.gu.set("Unknown"),c._u.delete(4),await Gi(c)}(this))})}),this.gu=new q1(s,r)}}async function Gi(t){if(Sn(t))for(const e of t.wu)await e(!0)}async function vr(t){for(const e of t.wu)await e(!1)}function yd(t,e){const n=Q(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),gc(n)?pc(n):ms(n).ko()&&dc(n,e))}function vd(t,e){const n=Q(t),s=ms(n);n.du.delete(e),s.ko()&&wd(n,e),n.du.size===0&&(s.ko()?s.Fo():Sn(n)&&n.gu.set("Unknown"))}function dc(t,e){t.yu.Ot(e.targetId),ms(t).zo(e)}function wd(t,e){t.yu.Ot(e),ms(t).Ho(e)}function pc(t){t.yu=new W0({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.du.get(e)||null}),ms(t).start(),t.gu.uu()}function gc(t){return Sn(t)&&!ms(t).No()&&t.du.size>0}function Sn(t){return Q(t)._u.size===0}function Ed(t){t.yu=void 0}async function W1(t){t.du.forEach((e,n)=>{dc(t,e)})}async function G1(t,e){Ed(t),gc(t)?(t.gu.hu(e),pc(t)):t.gu.set("Unknown")}async function Q1(t,e,n){if(t.gu.set("Online"),e instanceof od&&e.state===2&&e.cause)try{await async function(s,r){const i=r.cause;for(const o of r.targetIds)s.du.has(o)&&(await s.remoteSyncer.rejectListen(o,i),s.du.delete(o),s.yu.removeTarget(o))}(t,e)}catch(s){P("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hi(t,s)}else if(e instanceof Br?t.yu.Kt(e):e instanceof id?t.yu.Jt(e):t.yu.jt(e),!n.isEqual(W.min()))try{const s=await pd(t.localStore);n.compareTo(s)>=0&&await function(r,i){const o=r.yu.Zt(i);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){const l=r.du.get(c);l&&r.du.set(c,l.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const c=r.du.get(a);if(!c)return;r.du.set(a,c.withResumeToken(qe.EMPTY_BYTE_STRING,c.snapshotVersion)),wd(r,a);const l=new En(c.target,a,1,c.sequenceNumber);dc(r,l)}),r.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){P("RemoteStore","Failed to raise snapshot:",s),await hi(t,s)}}async function hi(t,e,n){if(!gr(e))throw e;t._u.add(1),await vr(t),t.gu.set("Offline"),n||(n=()=>pd(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{P("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Gi(t)})}function _d(t,e){return e().catch(n=>hi(t,n,e))}async function Qi(t){const e=Q(t),n=tn(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Y1(e);)try{const r=await M1(e.localStore,s);if(r===null){e.fu.length===0&&n.Fo();break}s=r.batchId,X1(e,r)}catch(r){await hi(e,r)}bd(e)&&Td(e)}function Y1(t){return Sn(t)&&t.fu.length<10}function X1(t,e){t.fu.push(e);const n=tn(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function bd(t){return Sn(t)&&!tn(t).No()&&t.fu.length>0}function Td(t){tn(t).start()}async function J1(t){tn(t).eu()}async function Z1(t){const e=tn(t);for(const n of t.fu)e.Xo(n.mutations)}async function ew(t,e,n){const s=t.fu.shift(),r=lc.from(s,e,n);await _d(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Qi(t)}async function tw(t,e){e&&tn(t).Yo&&await async function(n,s){if(r=s.code,j0(r)&&r!==b.ABORTED){const i=n.fu.shift();tn(n).Mo(),await _d(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Qi(n)}var r}(t,e),bd(t)&&Td(t)}async function Wl(t,e){const n=Q(t);n.asyncQueue.verifyOperationInProgress(),P("RemoteStore","RemoteStore received new credentials");const s=Sn(n);n._u.add(3),await vr(n),s&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Gi(n)}async function nw(t,e){const n=Q(t);e?(n._u.delete(2),await Gi(n)):e||(n._u.add(2),await vr(n),n.gu.set("Unknown"))}function ms(t){return t.pu||(t.pu=function(e,n,s){const r=Q(e);return r.su(),new j1(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,s)}(t.datastore,t.asyncQueue,{Yr:W1.bind(null,t),Zr:G1.bind(null,t),Wo:Q1.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Mo(),gc(t)?pc(t):t.gu.set("Unknown")):(await t.pu.stop(),Ed(t))})),t.pu}function tn(t){return t.Iu||(t.Iu=function(e,n,s){const r=Q(e);return r.su(),new z1(n,r.connection,r.authCredentials,r.appCheckCredentials,r.yt,s)}(t.datastore,t.asyncQueue,{Yr:J1.bind(null,t),Zr:tw.bind(null,t),tu:Z1.bind(null,t),Zo:ew.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Mo(),await Qi(t)):(await t.Iu.stop(),t.fu.length>0&&(P("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,s,r,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=r,this.removalCallback=i,this.deferred=new Yt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,r,i){const o=Date.now()+s,a=new mc(e,n,o,r,i);return a.start(s),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yc(t,e){if(Ft("AsyncQueue",`${e}: ${t}`),gr(t))return new j(b.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.comparator=e?(n,s)=>e(n,s)||B.comparator(n.key,s.key):(n,s)=>B.comparator(n.key,s.key),this.keyedMap=Ss(),this.sortedSet=new Re(this.comparator)}static emptySet(e){return new qn(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qn)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,i=s.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qn;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.Tu=new Re(B.comparator)}track(e){const n=e.doc.key,s=this.Tu.get(n);s?e.type!==0&&s.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&s.type!==1?this.Tu=this.Tu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Tu=this.Tu.remove(n):e.type===1&&s.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):z():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,s)=>{e.push(s)}),e}}class ss{constructor(e,n,s,r,i,o,a,c,l){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=l}static fromInitialDocuments(e,n,s,r,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ss(e,n,qn.emptySet(n),o,s,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zi(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==s[r].type||!n[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(){this.Au=void 0,this.listeners=[]}}class rw{constructor(){this.queries=new gs(e=>zf(e),zi),this.onlineState="Unknown",this.Ru=new Set}}async function iw(t,e){const n=Q(t),s=e.query;let r=!1,i=n.queries.get(s);if(i||(r=!0,i=new sw),r)try{i.Au=await n.onListen(s)}catch(o){const a=yc(o,`Initialization of query '${oa(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.listeners.push(e),e.bu(n.onlineState),i.Au&&e.Pu(i.Au)&&vc(n)}async function ow(t,e){const n=Q(t),s=e.query;let r=!1;const i=n.queries.get(s);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return n.queries.delete(s),n.onUnlisten(s)}function aw(t,e){const n=Q(t);let s=!1;for(const r of e){const i=r.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.Pu(r)&&(s=!0);o.Au=r}}s&&vc(n)}function cw(t,e,n){const s=Q(t),r=s.queries.get(e);if(r)for(const i of r.listeners)i.onError(n);s.queries.delete(e)}function vc(t){t.Ru.forEach(e=>{e.next()})}class lw{constructor(e,n,s){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new ss(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Nu||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this.key=e}}class Cd{constructor(e){this.key=e}}class uw{constructor(e,n){this.query=e,this.qu=n,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=ee(),this.mutatedKeys=ee(),this.Gu=Hf(e),this.Qu=new qn(this.Gu)}get ju(){return this.qu}Wu(e,n){const s=n?n.zu:new Gl,r=n?n.Qu:this.Qu;let i=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const c=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,l=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,h)=>{const d=r.get(u),g=ac(this.query,h)?h:null,v=!!d&&this.mutatedKeys.has(d.key),I=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let N=!1;d&&g?d.data.isEqual(g.data)?v!==I&&(s.track({type:3,doc:g}),N=!0):this.Hu(d,g)||(s.track({type:2,doc:g}),N=!0,(c&&this.Gu(g,c)>0||l&&this.Gu(g,l)<0)&&(a=!0)):!d&&g?(s.track({type:0,doc:g}),N=!0):d&&!g&&(s.track({type:1,doc:d}),N=!0,(c||l)&&(a=!0)),N&&(g?(o=o.add(g),i=I?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),s.track({type:1,doc:u})}return{Qu:o,zu:s,$i:a,mutatedKeys:i}}Hu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const r=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const i=e.zu.Eu();i.sort((l,u)=>function(h,d){const g=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return g(h)-g(d)}(l.type,u.type)||this.Gu(l.doc,u.doc)),this.Ju(s);const o=n?this.Yu():[],a=this.Ku.size===0&&this.current?1:0,c=a!==this.Uu;return this.Uu=a,i.length!==0||c?{snapshot:new ss(this.query,e.Qu,r,i,e.mutatedKeys,a===0,c,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Gl,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(n=>this.qu=this.qu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qu=this.qu.delete(n)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=ee(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const n=[];return e.forEach(s=>{this.Ku.has(s)||n.push(new Cd(s))}),this.Ku.forEach(s=>{e.has(s)||n.push(new Id(s))}),n}tc(e){this.qu=e.Hi,this.Ku=ee();const n=this.Wu(e.documents);return this.applyChanges(n,!0)}ec(){return ss.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,this.Uu===0,this.hasCachedResults)}}class hw{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class fw{constructor(e){this.key=e,this.nc=!1}}class dw{constructor(e,n,s,r,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new gs(a=>zf(a),zi),this.rc=new Map,this.oc=new Set,this.uc=new Re(B.comparator),this.cc=new Map,this.ac=new uc,this.hc={},this.lc=new Map,this.fc=ns.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return this.dc===!0}}async function pw(t,e){const n=Iw(t);let s,r;const i=n.ic.get(e);if(i)s=i.targetId,n.sharedClientState.addLocalQueryTarget(s),r=i.view.ec();else{const o=await L1(n.localStore,Vt(e));n.isPrimaryClient&&yd(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,r=await gw(n,e,s,a==="current",o.resumeToken)}return r}async function gw(t,e,n,s,r){t._c=(h,d,g)=>async function(v,I,N,x){let L=I.view.Wu(N);L.$i&&(L=await Hl(v.localStore,I.query,!1).then(({documents:_e})=>I.view.Wu(_e,L)));const F=x&&x.targetChanges.get(I.targetId),J=I.view.applyChanges(L,v.isPrimaryClient,F);return Yl(v,I.targetId,J.Xu),J.snapshot}(t,h,d,g);const i=await Hl(t.localStore,e,!0),o=new uw(e,i.Hi),a=o.Wu(i.documents),c=yr.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",r),l=o.applyChanges(a,t.isPrimaryClient,c);Yl(t,n,l.Xu);const u=new hw(e,n,o);return t.ic.set(e,u),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),l.snapshot}async function mw(t,e){const n=Q(t),s=n.ic.get(e),r=n.rc.get(s.targetId);if(r.length>1)return n.rc.set(s.targetId,r.filter(i=>!zi(i,e))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await ua(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),vd(n.remoteStore,s.targetId),ha(n,s.targetId)}).catch(pr)):(ha(n,s.targetId),await ua(n.localStore,s.targetId,!0))}async function yw(t,e,n){const s=Cw(t);try{const r=await function(i,o){const a=Q(i),c=Ae.now(),l=o.reduce((d,g)=>d.add(g.key),ee());let u,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let g=Ut(),v=ee();return a.Gi.getEntries(d,l).next(I=>{g=I,g.forEach((N,x)=>{x.isValidDocument()||(v=v.add(N))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,g)).next(I=>{u=I;const N=[];for(const x of o){const L=U0(x,u.get(x.key).overlayedDocument);L!=null&&N.push(new Cn(x.key,L,Bf(L.value.mapValue),Mt.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,N,o)}).next(I=>{h=I;const N=I.applyToLocalDocumentSet(u,v);return a.documentOverlayCache.saveOverlays(d,I.batchId,N)})}).then(()=>({batchId:h.batchId,changes:nd(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let c=i.hc[i.currentUser.toKey()];c||(c=new Re(ie)),c=c.insert(o,a),i.hc[i.currentUser.toKey()]=c}(s,r.batchId,n),await wr(s,r.changes),await Qi(s.remoteStore)}catch(r){const i=yc(r,"Failed to persist write");n.reject(i)}}async function Sd(t,e){const n=Q(t);try{const s=await N1(n.localStore,e);e.targetChanges.forEach((r,i)=>{const o=n.cc.get(i);o&&(de(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.nc=!0:r.modifiedDocuments.size>0?de(o.nc):r.removedDocuments.size>0&&(de(o.nc),o.nc=!1))}),await wr(n,s,e)}catch(s){await pr(s)}}function Ql(t,e,n){const s=Q(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const r=[];s.ic.forEach((i,o)=>{const a=o.view.bu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=Q(i);a.onlineState=o;let c=!1;a.queries.forEach((l,u)=>{for(const h of u.listeners)h.bu(o)&&(c=!0)}),c&&vc(a)}(s.eventManager,e),r.length&&s.sc.Wo(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vw(t,e,n){const s=Q(t);s.sharedClientState.updateQueryState(e,"rejected",n);const r=s.cc.get(e),i=r&&r.key;if(i){let o=new Re(B.comparator);o=o.insert(i,Ve.newNoDocument(i,W.min()));const a=ee().add(i),c=new Ki(W.min(),new Map,new De(ie),o,a);await Sd(s,c),s.uc=s.uc.remove(i),s.cc.delete(e),wc(s)}else await ua(s.localStore,e,!1).then(()=>ha(s,e,n)).catch(pr)}async function ww(t,e){const n=Q(t),s=e.batch.batchId;try{const r=await k1(n.localStore,e);Dd(n,s,null),Ad(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await wr(n,r)}catch(r){await pr(r)}}async function Ew(t,e,n){const s=Q(t);try{const r=await function(i,o){const a=Q(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let l;return a.mutationQueue.lookupMutationBatch(c,o).next(u=>(de(u!==null),l=u.keys(),a.mutationQueue.removeMutationBatch(c,u))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,l,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,l)).next(()=>a.localDocuments.getDocuments(c,l))})}(s.localStore,e);Dd(s,e,n),Ad(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await wr(s,r)}catch(r){await pr(r)}}function Ad(t,e){(t.lc.get(e)||[]).forEach(n=>{n.resolve()}),t.lc.delete(e)}function Dd(t,e,n){const s=Q(t);let r=s.hc[s.currentUser.toKey()];if(r){const i=r.get(e);i&&(n?i.reject(n):i.resolve(),r=r.remove(e)),s.hc[s.currentUser.toKey()]=r}}function ha(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.rc.get(e))t.ic.delete(s),n&&t.sc.wc(s,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach(s=>{t.ac.containsKey(s)||xd(t,s)})}function xd(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);n!==null&&(vd(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),wc(t))}function Yl(t,e,n){for(const s of n)s instanceof Id?(t.ac.addReference(s.key,e),_w(t,s)):s instanceof Cd?(P("SyncEngine","Document no longer in limbo: "+s.key),t.ac.removeReference(s.key,e),t.ac.containsKey(s.key)||xd(t,s.key)):z()}function _w(t,e){const n=e.key,s=n.path.canonicalString();t.uc.get(n)||t.oc.has(s)||(P("SyncEngine","New document in limbo: "+n),t.oc.add(s),wc(t))}function wc(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new B(ye.fromString(e)),s=t.fc.next();t.cc.set(s,new fw(n)),t.uc=t.uc.insert(n,s),yd(t.remoteStore,new En(Vt(jf(n.path)),s,2,sc.at))}}async function wr(t,e,n){const s=Q(t),r=[],i=[],o=[];s.ic.isEmpty()||(s.ic.forEach((a,c)=>{o.push(s._c(c,e,n).then(l=>{if((l||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(c.targetId,l!=null&&l.fromCache?"not-current":"current"),l){r.push(l);const u=fc.Ci(c.targetId,l);i.push(u)}}))}),await Promise.all(o),s.sc.Wo(r),await async function(a,c){const l=Q(a);try{await l.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>T.forEach(c,h=>T.forEach(h.Si,d=>l.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>T.forEach(h.Di,d=>l.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!gr(u))throw u;P("LocalStore","Failed to update sequence numbers: "+u)}for(const u of c){const h=u.targetId;if(!u.fromCache){const d=l.qi.get(h),g=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(g);l.qi=l.qi.insert(h,v)}}}(s.localStore,i))}async function bw(t,e){const n=Q(t);if(!n.currentUser.isEqual(e)){P("SyncEngine","User change. New user:",e.toKey());const s=await dd(n.localStore,e);n.currentUser=e,function(r,i){r.lc.forEach(o=>{o.forEach(a=>{a.reject(new j(b.CANCELLED,i))})}),r.lc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wr(n,s.ji)}}function Tw(t,e){const n=Q(t),s=n.cc.get(e);if(s&&s.nc)return ee().add(s.key);{let r=ee();const i=n.rc.get(e);if(!i)return r;for(const o of i){const a=n.ic.get(o);r=r.unionWith(a.view.ju)}return r}}function Iw(t){const e=Q(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sd.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Tw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vw.bind(null,e),e.sc.Wo=aw.bind(null,e.eventManager),e.sc.wc=cw.bind(null,e.eventManager),e}function Cw(t){const e=Q(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ww.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ew.bind(null,e),e}class Sw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.yt=Wi(e.databaseInfo.databaseId),this.sharedClientState=this.gc(e),this.persistence=this.yc(e),await this.persistence.start(),this.localStore=this.Ic(e),this.gcScheduler=this.Tc(e,this.localStore),this.indexBackfillerScheduler=this.Ec(e,this.localStore)}Tc(e,n){return null}Ec(e,n){return null}Ic(e){return R1(this.persistence,new D1,e.initialUser,this.yt)}yc(e){return new S1(hc.Bs,this.yt)}gc(e){return new F1}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Aw{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ql(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bw.bind(null,this.syncEngine),await nw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new rw}createDatastore(e){const n=Wi(e.databaseInfo.databaseId),s=(r=e.databaseInfo,new B1(r));var r;return function(i,o,a,c){return new H1(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,r=e.asyncQueue,i=a=>Ql(this.syncEngine,a,0),o=Kl.C()?new Kl:new V1,new K1(n,s,r,i,o);var n,s,r,i,o}createSyncEngine(e,n){return function(s,r,i,o,a,c,l){const u=new dw(s,r,i,o,a,c);return l&&(u.dc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Q(e);P("RemoteStore","RemoteStore shutting down."),n._u.add(5),await vr(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rd(t,e,n){if(!n)throw new j(b.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Dw(t,e,n,s){if(e===!0&&s===!0)throw new j(b.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xl(t){if(!B.isDocumentKey(t))throw new j(b.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jl(t){if(B.isDocumentKey(t))throw new j(b.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ec(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(b.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ec(t);throw new j(b.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=new Map;class eu{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new j(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(b.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Dw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,s,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eu(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Jv;switch(n.type){case"gapi":const s=n.client;return new n0(s,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new j(b.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Zl.get(e);n&&(P("ComponentProvider","Removing Datastore"),Zl.delete(e),n.terminate())}(this),Promise.resolve()}}function xw(t,e,n,s={}){var r;const i=(t=fi(t,Yi))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&ta("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${n}`,ssl:!1})),s.mockUserToken){let o,a;if(typeof s.mockUserToken=="string")o=s.mockUserToken,a=Fe.MOCK_USER;else{o=Pm(s.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new j(b.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Fe(c)}t._authCredentials=new Zv(new Rf(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xt(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gt(this.firestore,e,this._key)}}class Xi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class Xt extends Xi{constructor(e,n,s){super(e,n,jf(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gt(this.firestore,null,new B(e))}withConverter(e){return new Xt(this.firestore,e,this._path)}}function tu(t,e,...n){if(t=zs(t),Rd("collection","path",e),t instanceof Yi){const s=ye.fromString(e,...n);return Jl(s),new Xt(t,null,s)}{if(!(t instanceof gt||t instanceof Xt))throw new j(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ye.fromString(e,...n));return Jl(s),new Xt(t.firestore,null,s)}}function Rw(t,e,...n){if(t=zs(t),arguments.length===1&&(e=kf.R()),Rd("doc","path",e),t instanceof Yi){const s=ye.fromString(e,...n);return Xl(s),new gt(t,null,new B(s))}{if(!(t instanceof gt||t instanceof Xt))throw new j(b.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ye.fromString(e,...n));return Xl(s),new gt(t.firestore,t instanceof Xt?t.converter:null,new B(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ft("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,n,s,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=r,this.user=Fe.UNAUTHENTICATED,this.clientId=kf.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async i=>{P("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(s,i=>(P("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(b.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Yt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=yc(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Ow(t,e){t.asyncQueue.verifyOperationInProgress(),P("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async r=>{s.isEqual(r)||(await dd(e.localStore,r),s=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function Mw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Lw(t);P("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(r=>Wl(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Wl(e.remoteStore,i)),t.onlineComponents=e}async function Lw(t){return t.offlineComponents||(P("FirestoreClient","Using default OfflineComponentProvider"),await Ow(t,new Sw)),t.offlineComponents}async function kd(t){return t.onlineComponents||(P("FirestoreClient","Using default OnlineComponentProvider"),await Mw(t,new Aw)),t.onlineComponents}function Pw(t){return kd(t).then(e=>e.syncEngine)}async function Fw(t){const e=await kd(t),n=e.eventManager;return n.onListen=pw.bind(null,e.syncEngine),n.onUnlisten=mw.bind(null,e.syncEngine),n}function Vw(t,e,n={}){const s=new Yt;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,c){const l=new kw({next:h=>{i.enqueueAndForget(()=>ow(r,u)),h.fromCache&&a.source==="server"?c.reject(new j(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),u=new lw(o,l,{includeMetadataChanges:!0,Nu:!0});return iw(r,u)}(await Fw(t),t.asyncQueue,e,n,s)),s.promise}class Uw{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new gd(this,"async_queue_retry"),this.Wc=()=>{const n=To();n&&P("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.Po()};const e=To();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const n=To();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const n=new Yt;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}async Jc(){if(this.Lc.length!==0){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(e){if(!gr(e))throw e;P("AsyncQueue","Operation failed with retryable error: "+e)}this.Lc.length>0&&this.xo.Ro(()=>this.Jc())}}Hc(e){const n=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{this.Kc=s,this.Gc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(s);throw Ft("INTERNAL UNHANDLED ERROR: ",r),s}).then(s=>(this.Gc=!1,s))));return this.Bc=n,n}enqueueAfterDelay(e,n,s){this.zc(),this.jc.indexOf(e)>-1&&(n=0);const r=mc.createAndSchedule(this,e,n,s,i=>this.Yc(i));return this.Uc.push(r),r}zc(){this.Kc&&z()}verifyOperationInProgress(){}async Xc(){let e;do e=this.Bc,await e;while(e!==this.Bc)}Zc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}class _c extends Yi{constructor(e,n,s,r){super(e,n,s,r),this.type="firestore",this._queue=new Uw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Od(this),this._firestoreClient.terminate()}}function $w(t,e){const n=typeof t=="object"?t:Vy(),s=typeof t=="string"?t:e||"(default)",r=My(n,"firestore").getImmediate({identifier:s});if(!r._initialized){const i=Om("firestore");i&&xw(r,...i)}return r}function Nd(t){return t._firestoreClient||Od(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Od(t){var e;const n=t._freezeSettings(),s=function(r,i,o,a){return new f0(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Nw(t._authCredentials,t._appCheckCredentials,t._queue,s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new rs(qe.fromBase64String(e))}catch(n){throw new j(b.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new rs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=/^__.*__$/;class jw{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Cn(e,this.data,this.fieldMask,n,this.fieldTransforms):new mr(e,this.data,n,this.fieldTransforms)}}function Ld(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class Ic{constructor(e,n,s,r,i,o){this.settings=e,this.databaseId=n,this.yt=s,this.ignoreUndefinedProperties=r,i===void 0&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Ic(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:s,oa:!1});return r.ua(e),r}ca(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.ia({path:s,oa:!1});return r.na(),r}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return di(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(e.length===0)throw this.ha("Document fields must not be empty");if(Ld(this.sa)&&Bw.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class zw{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.yt=s||Wi(e)}da(e,n,s,r=!1){return new Ic({sa:e,methodName:n,fa:s,path:Be.emptyPath(),oa:!1,la:r},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function Hw(t){const e=t._freezeSettings(),n=Wi(t._databaseId);return new zw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qw(t,e,n,s,r,i={}){const o=t.da(i.merge||i.mergeFields?2:0,e,n,r);Ud("Data must be an object, but it was:",o,s);const a=Fd(s,o);let c,l;if(i.merge)c=new Ct(o.fieldMask),l=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const d=Kw(e,h,n);if(!o.contains(d))throw new j(b.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);Gw(u,d)||u.push(d)}c=new Ct(u),l=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,l=o.fieldTransforms;return new jw(new it(a),c,l)}function Pd(t,e){if(Vd(t=zs(t)))return Ud("Unsupported field value:",e,t),Fd(t,e);if(t instanceof Md)return function(n,s){if(!Ld(s.sa))throw s.ha(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${n._methodName}() is not currently supported inside arrays`);const r=n._toFieldTransform(s);r&&s.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&e.sa!==4)throw e.ha("Nested arrays are not supported");return function(n,s){const r=[];let i=0;for(const o of n){let a=Pd(o,s.aa(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(n,s){if((n=zs(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return O0(s.yt,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const r=Ae.fromDate(n);return{timestampValue:ui(s.yt,r)}}if(n instanceof Ae){const r=new Ae(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ui(s.yt,r)}}if(n instanceof Tc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof rs)return{bytesValue:ad(s.yt,n._byteString)};if(n instanceof gt){const r=s.databaseId,i=n.firestore._databaseId;if(!i.isEqual(r))throw s.ha(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:cc(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.ha(`Unsupported field value: ${Ec(n)}`)}(t,e)}function Fd(t,e){const n={};return Nf(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(t,(s,r)=>{const i=Pd(r,e.ra(s));i!=null&&(n[s]=i)}),{mapValue:{fields:n}}}function Vd(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof Tc||t instanceof rs||t instanceof gt||t instanceof Md)}function Ud(t,e,n){if(!Vd(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=Ec(n);throw s==="an object"?e.ha(t+" a custom object"):e.ha(t+" "+s)}}function Kw(t,e,n){if((e=zs(e))instanceof bc)return e._internalPath;if(typeof e=="string")return $d(t,e);throw di("Field path arguments must be of type string or ",t,!1,void 0,n)}const Ww=new RegExp("[~\\*/\\[\\]]");function $d(t,e,n){if(e.search(Ww)>=0)throw di(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bc(...e.split("."))._internalPath}catch{throw di(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function di(t,e,n,s,r){const i=s&&!s.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${s}`),o&&(c+=` in document ${r}`),c+=")"),new j(b.INVALID_ARGUMENT,a+t+c)}function Gw(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,s,r,i){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qw extends Bd{data(){return super.data()}}function jd(t,e){return typeof e=="string"?$d(t,e):e instanceof bc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(b.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xw{convertValue(e,n="none"){switch(Tn(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){const s={};return ps(e.fields,(r,i)=>{s[r]=this.convertValue(i,n)}),s}convertGeoPoint(e){return new Tc(Ce(e.latitude),Ce(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Zs(e));default:return null}}convertTimestamp(e){const n=en(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ye.fromString(e);de(fd(s));const r=new Js(s.get(1),s.get(3)),i=new B(s.popFirst(5));return r.isEqual(n)||Ft(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zw extends Bd{constructor(e,n,s,r,i,o){super(e,n,s,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(jd("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class jr extends Zw{data(e={}){return super.data(e)}}class eE{constructor(e,n,s,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Or(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new jr(this._firestore,this._userDataWriter,s.key,s,new Or(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,r){if(s._snapshot.oldDocs.isEmpty()){let i=0;return s._snapshot.docChanges.map(o=>{const a=new jr(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Or(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>r||o.type!==3).map(o=>{const a=new jr(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Or(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,l=-1;return o.type!==0&&(c=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),l=i.indexOf(o.doc.key)),{type:tE(o.type),doc:a,oldIndex:c,newIndex:l}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function tE(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}class nE extends Xw{constructor(e){super(),this.firestore=e}convertBytes(e){return new rs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gt(this.firestore,null,n)}}function sE(t){t=fi(t,Xi);const e=fi(t.firestore,_c),n=Nd(e),s=new nE(e);return Yw(t._query),Vw(n,t._query).then(r=>new eE(e,s,t,r))}function rE(t,e){const n=fi(t.firestore,_c),s=Rw(t),r=Jw(t.converter,e);return iE(n,[qw(Hw(t.firestore),"addDoc",s._key,r,t.converter!==null,{}).toMutation(s._key,Mt.exists(!1))]).then(()=>s)}function iE(t,e){return function(n,s){const r=new Yt;return n.asyncQueue.enqueueAndForget(async()=>yw(await Pw(n),s,r)),r.promise}(Nd(t),e)}(function(t,e=!0){(function(n){ds=n})(Fy),Xr(new Hs("firestore",(n,{instanceIdentifier:s,options:r})=>{const i=n.getProvider("app").getImmediate(),o=new _c(new e0(n.getProvider("auth-internal")),new r0(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new j(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Js(a.options.projectId,c)}(i,s),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),zn(Cl,"3.8.0",t),zn(Cl,"3.8.0","esm2017")})();const An=(t,e)=>{const n=t.__vccOpts||t;for(const[s,r]of e)n[s]=r;return n},oE={apiKey:"AIzaSyA1uh6C04jDSJzkF7lPSOe4_MnmpfrgJdY",authDomain:"userlog803.firebaseapp.com",databaseURL:"https://userlog803-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"userlog803",storageBucket:"userlog803.appspot.com",messagingSenderId:"219849884017",appId:"1:219849884017:web:818a28f6f94362a83136d0"},aE=Ih(oE),nu=$w(aE),cE={data(){return{keyId:0,fullname:"",note:"",userList:null}},async created(){this.loadRecords()},methods:{async addRecord(){console.log("Key ID: ",this.keyId),console.log("Fullname: ",this.fullname),console.log("Note: ",this.note);try{const t=await rE(tu(nu,"users"),{key_id:this.keyId,fullname:this.fullname,note:this.note});console.log("Document written with ID: ",t.id),this.loadRecords()}catch(t){console.error("Error adding document: ",t)}},async loadRecords(){const t=tu(nu,"users"),e=await sE(t);this.userList=e.docs.map(n=>n.data())}}},lE=t=>(eg("data-v-d22065cb"),t=t(),tg(),t),uE={border:"1"},hE=lE(()=>K("thead",null,[K("tr",null,[K("th",null,"Key ID"),K("th",null,"Họ tên"),K("th",null,"Ghi chú")])],-1));function fE(t,e,n,s,r,i){return ot(),pt(Ze,null,[K("header",null,[no(K("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>r.keyId=o),placeholder:"Key ID"},null,512),[[co,r.keyId]]),no(K("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>r.fullname=o),placeholder:"Họ tên"},null,512),[[co,r.fullname]]),no(K("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>r.note=o),placeholder:"Ghi chú"},null,512),[[co,r.note]]),K("button",{onClick:e[3]||(e[3]=(...o)=>i.addRecord&&i.addRecord(...o))},"Submit")]),K("table",uE,[hE,K("tbody",null,[(ot(!0),pt(Ze,null,bg(r.userList,o=>(ot(),pt("tr",{key:o.key_id},[K("td",null,Zi(o.key_id),1),K("td",null,Zi(o.fullname),1),K("td",null,Zi(o.note),1)]))),128))])])],64)}const dE=An(cE,[["render",fE],["__scopeId","data-v-d22065cb"]]),pE="modulepreload",gE=function(t){return"/keys-803/"+t},su={},mE=function(e,n,s){if(!n||n.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=gE(i),i in su)return;su[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!s)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const l=document.createElement("link");if(l.rel=o?"stylesheet":pE,o||(l.as="script",l.crossOrigin=""),l.href=i,document.head.appendChild(l),o)return new Promise((u,h)=>{l.addEventListener("load",u),l.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Pn=typeof window<"u";function yE(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ce=Object.assign;function Io(t,e){const n={};for(const s in e){const r=e[s];n[s]=mt(r)?r.map(t):t(r)}return n}const Ls=()=>{},mt=Array.isArray,vE=/\/$/,wE=t=>t.replace(vE,"");function Co(t,e,n="/"){let s,r={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(s=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),r=t(i)),a>-1&&(s=s||e.slice(0,a),o=e.slice(a,e.length)),s=TE(s??e,n),{fullPath:s+(i&&"?")+i+o,path:s,query:r,hash:o}}function EE(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function ru(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function _E(t,e,n){const s=e.matched.length-1,r=n.matched.length-1;return s>-1&&s===r&&is(e.matched[s],n.matched[r])&&zd(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function is(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function zd(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!bE(t[n],e[n]))return!1;return!0}function bE(t,e){return mt(t)?iu(t,e):mt(e)?iu(e,t):t===e}function iu(t,e){return mt(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function TE(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/");let r=n.length-1,i,o;for(i=0;i<s.length;i++)if(o=s[i],o!==".")if(o==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(i-(i===s.length?1:0)).join("/")}var sr;(function(t){t.pop="pop",t.push="push"})(sr||(sr={}));var Ps;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ps||(Ps={}));function IE(t){if(!t)if(Pn){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),wE(t)}const CE=/^[^#]+#/;function SE(t,e){return t.replace(CE,"#")+e}function AE(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const Ji=()=>({left:window.pageXOffset,top:window.pageYOffset});function DE(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),r=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!r)return;e=AE(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function ou(t,e){return(history.state?history.state.position-e:-1)+t}const fa=new Map;function xE(t,e){fa.set(t,e)}function RE(t){const e=fa.get(t);return fa.delete(t),e}let kE=()=>location.protocol+"//"+location.host;function Hd(t,e){const{pathname:n,search:s,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,c=r.slice(a);return c[0]!=="/"&&(c="/"+c),ru(c,"")}return ru(n,t)+s+r}function NE(t,e,n,s){let r=[],i=[],o=null;const a=({state:d})=>{const g=Hd(t,location),v=n.value,I=e.value;let N=0;if(d){if(n.value=g,e.value=d,o&&o===v){o=null;return}N=I?d.position-I.position:0}else s(g);r.forEach(x=>{x(n.value,v,{delta:N,type:sr.pop,direction:N?N>0?Ps.forward:Ps.back:Ps.unknown})})};function c(){o=n.value}function l(d){r.push(d);const g=()=>{const v=r.indexOf(d);v>-1&&r.splice(v,1)};return i.push(g),g}function u(){const{history:d}=window;d.state&&d.replaceState(ce({},d.state,{scroll:Ji()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u),{pauseListeners:c,listen:l,destroy:h}}function au(t,e,n,s=!1,r=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:r?Ji():null}}function OE(t){const{history:e,location:n}=window,s={value:Hd(t,n)},r={value:e.state};r.value||i(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,l,u){const h=t.indexOf("#"),d=h>-1?(n.host&&document.querySelector("base")?t:t.slice(h))+c:kE()+t+c;try{e[u?"replaceState":"pushState"](l,"",d),r.value=l}catch(g){console.error(g),n[u?"replace":"assign"](d)}}function o(c,l){const u=ce({},e.state,au(r.value.back,c,r.value.forward,!0),l,{position:r.value.position});i(c,u,!0),s.value=c}function a(c,l){const u=ce({},r.value,e.state,{forward:c,scroll:Ji()});i(u.current,u,!0);const h=ce({},au(s.value,c,null),{position:u.position+1},l);i(c,h,!1),s.value=c}return{location:s,state:r,push:a,replace:o}}function ME(t){t=IE(t);const e=OE(t),n=NE(t,e.state,e.location,e.replace);function s(i,o=!0){o||n.pauseListeners(),history.go(i)}const r=ce({location:"",base:t,go:s,createHref:SE.bind(null,t)},e,n);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function LE(t){return typeof t=="string"||t&&typeof t=="object"}function qd(t){return typeof t=="string"||typeof t=="symbol"}const zt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Kd=Symbol("");var cu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(cu||(cu={}));function os(t,e){return ce(new Error,{type:t,[Kd]:!0},e)}function Rt(t,e){return t instanceof Error&&Kd in t&&(e==null||!!(t.type&e))}const lu="[^/]+?",PE={sensitive:!1,strict:!1,start:!0,end:!0},FE=/[.+*?^${}()[\]/\\]/g;function VE(t,e){const n=ce({},PE,e),s=[];let r=n.start?"^":"";const i=[];for(const l of t){const u=l.length?[]:[90];n.strict&&!l.length&&(r+="/");for(let h=0;h<l.length;h++){const d=l[h];let g=40+(n.sensitive?.25:0);if(d.type===0)h||(r+="/"),r+=d.value.replace(FE,"\\$&"),g+=40;else if(d.type===1){const{value:v,repeatable:I,optional:N,regexp:x}=d;i.push({name:v,repeatable:I,optional:N});const L=x||lu;if(L!==lu){g+=10;try{new RegExp(`(${L})`)}catch(J){throw new Error(`Invalid custom RegExp for param "${v}" (${L}): `+J.message)}}let F=I?`((?:${L})(?:/(?:${L}))*)`:`(${L})`;h||(F=N&&l.length<2?`(?:/${F})`:"/"+F),N&&(F+="?"),r+=F,g+=20,N&&(g+=-8),I&&(g+=-20),L===".*"&&(g+=-50)}u.push(g)}s.push(u)}if(n.strict&&n.end){const l=s.length-1;s[l][s[l].length-1]+=.7000000000000001}n.strict||(r+="/?"),n.end?r+="$":n.strict&&(r+="(?:/|$)");const o=new RegExp(r,n.sensitive?"":"i");function a(l){const u=l.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",v=i[d-1];h[v.name]=g&&v.repeatable?g.split("/"):g}return h}function c(l){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:v,repeatable:I,optional:N}=g,x=v in l?l[v]:"";if(mt(x)&&!I)throw new Error(`Provided param "${v}" is an array but it is not repeatable (* or + modifiers)`);const L=mt(x)?x.join("/"):x;if(!L)if(N)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${v}"`);u+=L}}return u||"/"}return{re:o,score:s,keys:i,parse:a,stringify:c}}function UE(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function $E(t,e){let n=0;const s=t.score,r=e.score;for(;n<s.length&&n<r.length;){const i=UE(s[n],r[n]);if(i)return i;n++}if(Math.abs(r.length-s.length)===1){if(uu(s))return 1;if(uu(r))return-1}return r.length-s.length}function uu(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const BE={type:0,value:""},jE=/[a-zA-Z0-9_]/;function zE(t){if(!t)return[[]];if(t==="/")return[[BE]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${n})/"${l}": ${g}`)}let n=0,s=n;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,c,l="",u="";function h(){l&&(n===0?i.push({type:0,value:l}):n===1||n===2||n===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function d(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:c==="/"?(l&&h(),o()):c===":"?(h(),n=1):d();break;case 4:d(),n=s;break;case 1:c==="("?n=2:jE.test(c)?d():(h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:n=3:u+=c;break;case 3:h(),n=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${l}"`),h(),o(),r}function HE(t,e,n){const s=VE(zE(t.path),n),r=ce(s,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function qE(t,e){const n=[],s=new Map;e=du({strict:!1,end:!0,sensitive:!1},e);function r(u){return s.get(u)}function i(u,h,d){const g=!d,v=KE(u);v.aliasOf=d&&d.record;const I=du(e,u),N=[v];if("alias"in u){const F=typeof u.alias=="string"?[u.alias]:u.alias;for(const J of F)N.push(ce({},v,{components:d?d.record.components:v.components,path:J,aliasOf:d?d.record:v}))}let x,L;for(const F of N){const{path:J}=F;if(h&&J[0]!=="/"){const _e=h.record.path,Ke=_e[_e.length-1]==="/"?"":"/";F.path=h.record.path+(J&&Ke+J)}if(x=HE(F,h,I),d?d.alias.push(x):(L=L||x,L!==x&&L.alias.push(x),g&&u.name&&!fu(x)&&o(u.name)),v.children){const _e=v.children;for(let Ke=0;Ke<_e.length;Ke++)i(_e[Ke],x,d&&d.children[Ke])}d=d||x,(x.record.components&&Object.keys(x.record.components).length||x.record.name||x.record.redirect)&&c(x)}return L?()=>{o(L)}:Ls}function o(u){if(qd(u)){const h=s.get(u);h&&(s.delete(u),n.splice(n.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=n.indexOf(u);h>-1&&(n.splice(h,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return n}function c(u){let h=0;for(;h<n.length&&$E(u,n[h])>=0&&(u.record.path!==n[h].record.path||!Wd(u,n[h]));)h++;n.splice(h,0,u),u.record.name&&!fu(u)&&s.set(u.record.name,u)}function l(u,h){let d,g={},v,I;if("name"in u&&u.name){if(d=s.get(u.name),!d)throw os(1,{location:u});I=d.record.name,g=ce(hu(h.params,d.keys.filter(L=>!L.optional).map(L=>L.name)),u.params&&hu(u.params,d.keys.map(L=>L.name))),v=d.stringify(g)}else if("path"in u)v=u.path,d=n.find(L=>L.re.test(v)),d&&(g=d.parse(v),I=d.record.name);else{if(d=h.name?s.get(h.name):n.find(L=>L.re.test(h.path)),!d)throw os(1,{location:u,currentLocation:h});I=d.record.name,g=ce({},h.params,u.params),v=d.stringify(g)}const N=[];let x=d;for(;x;)N.unshift(x.record),x=x.parent;return{name:I,path:v,params:g,matched:N,meta:GE(N)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:l,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function hu(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function KE(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:WE(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function WE(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function fu(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function GE(t){return t.reduce((e,n)=>ce(e,n.meta),{})}function du(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function Wd(t,e){return e.children.some(n=>n===t||Wd(t,n))}const Gd=/#/g,QE=/&/g,YE=/\//g,XE=/=/g,JE=/\?/g,Qd=/\+/g,ZE=/%5B/g,e_=/%5D/g,Yd=/%5E/g,t_=/%60/g,Xd=/%7B/g,n_=/%7C/g,Jd=/%7D/g,s_=/%20/g;function Cc(t){return encodeURI(""+t).replace(n_,"|").replace(ZE,"[").replace(e_,"]")}function r_(t){return Cc(t).replace(Xd,"{").replace(Jd,"}").replace(Yd,"^")}function da(t){return Cc(t).replace(Qd,"%2B").replace(s_,"+").replace(Gd,"%23").replace(QE,"%26").replace(t_,"`").replace(Xd,"{").replace(Jd,"}").replace(Yd,"^")}function i_(t){return da(t).replace(XE,"%3D")}function o_(t){return Cc(t).replace(Gd,"%23").replace(JE,"%3F")}function a_(t){return t==null?"":o_(t).replace(YE,"%2F")}function pi(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function c_(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<s.length;++r){const i=s[r].replace(Qd," "),o=i.indexOf("="),a=pi(o<0?i:i.slice(0,o)),c=o<0?null:pi(i.slice(o+1));if(a in e){let l=e[a];mt(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function pu(t){let e="";for(let n in t){const s=t[n];if(n=i_(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}(mt(s)?s.map(i=>i&&da(i)):[s&&da(s)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function l_(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=mt(s)?s.map(r=>r==null?null:""+r):s==null?s:""+s)}return e}const u_=Symbol(""),gu=Symbol(""),Sc=Symbol(""),Zd=Symbol(""),pa=Symbol("");function _s(){let t=[];function e(s){return t.push(s),()=>{const r=t.indexOf(s);r>-1&&t.splice(r,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function qt(t,e,n,s,r){const i=s&&(s.enterCallbacks[r]=s.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const c=h=>{h===!1?a(os(4,{from:n,to:e})):h instanceof Error?a(h):LE(h)?a(os(2,{from:e,to:h})):(i&&s.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},l=t.call(s&&s.instances[r],e,n,c);let u=Promise.resolve(l);t.length<3&&(u=u.then(c)),u.catch(h=>a(h))})}function So(t,e,n,s){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(h_(a)){const l=(a.__vccOpts||a)[e];l&&r.push(qt(l,n,s,i,o))}else{let c=a();r.push(()=>c.then(l=>{if(!l)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=yE(l)?l.default:l;i.components[o]=u;const d=(u.__vccOpts||u)[e];return d&&qt(d,n,s,i,o)()}))}}return r}function h_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function mu(t){const e=Ot(Sc),n=Ot(Zd),s=rt(()=>e.resolve(Bn(t.to))),r=rt(()=>{const{matched:c}=s.value,{length:l}=c,u=c[l-1],h=n.matched;if(!u||!h.length)return-1;const d=h.findIndex(is.bind(null,u));if(d>-1)return d;const g=yu(c[l-2]);return l>1&&yu(u)===g&&h[h.length-1].path!==g?h.findIndex(is.bind(null,c[l-2])):d}),i=rt(()=>r.value>-1&&g_(n.params,s.value.params)),o=rt(()=>r.value>-1&&r.value===n.matched.length-1&&zd(n.params,s.value.params));function a(c={}){return p_(c)?e[Bn(t.replace)?"replace":"push"](Bn(t.to)).catch(Ls):Promise.resolve()}return{route:s,href:rt(()=>s.value.href),isActive:i,isExactActive:o,navigate:a}}const f_=Zu({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mu,setup(t,{slots:e}){const n=rr(mu(t)),{options:s}=Ot(Sc),r=rt(()=>({[vu(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[vu(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:mh("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:r.value},i)}}}),d_=f_;function p_(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function g_(t,e){for(const n in e){const s=e[n],r=t[n];if(typeof s=="string"){if(s!==r)return!1}else if(!mt(r)||r.length!==s.length||s.some((i,o)=>i!==r[o]))return!1}return!0}function yu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vu=(t,e,n)=>t??e??n,m_=Zu({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Ot(pa),r=rt(()=>t.route||s.value),i=Ot(gu,0),o=rt(()=>{let l=Bn(i);const{matched:u}=r.value;let h;for(;(h=u[l])&&!h.components;)l++;return l}),a=rt(()=>r.value.matched[o.value]);Pr(gu,rt(()=>o.value+1)),Pr(u_,a),Pr(pa,r);const c=jp();return Fr(()=>[c.value,a.value,t.name],([l,u,h],[d,g,v])=>{u&&(u.instances[h]=l,g&&g!==u&&l&&l===d&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!is(u,g)||!d)&&(u.enterCallbacks[h]||[]).forEach(I=>I(l))},{flush:"post"}),()=>{const l=r.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return wu(n.default,{Component:d,route:l});const g=h.props[u],v=g?g===!0?l.params:typeof g=="function"?g(l):g:null,N=mh(d,ce({},v,e,{onVnodeUnmounted:x=>{x.component.isUnmounted&&(h.instances[u]=null)},ref:c}));return wu(n.default,{Component:N,route:l})||N}}});function wu(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const y_=m_;function v_(t){const e=qE(t.routes,t),n=t.parseQuery||c_,s=t.stringifyQuery||pu,r=t.history,i=_s(),o=_s(),a=_s(),c=zp(zt);let l=zt;Pn&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=Io.bind(null,w=>""+w),h=Io.bind(null,a_),d=Io.bind(null,pi);function g(w,k){let D,V;return qd(w)?(D=e.getRecordMatcher(w),V=k):V=w,e.addRoute(V,D)}function v(w){const k=e.getRecordMatcher(w);k&&e.removeRoute(k)}function I(){return e.getRoutes().map(w=>w.record)}function N(w){return!!e.getRecordMatcher(w)}function x(w,k){if(k=ce({},k||c.value),typeof w=="string"){const f=Co(n,w,k.path),p=e.resolve({path:f.path},k),m=r.createHref(f.fullPath);return ce(f,p,{params:d(p.params),hash:pi(f.hash),redirectedFrom:void 0,href:m})}let D;if("path"in w)D=ce({},w,{path:Co(n,w.path,k.path).path});else{const f=ce({},w.params);for(const p in f)f[p]==null&&delete f[p];D=ce({},w,{params:h(w.params)}),k.params=h(k.params)}const V=e.resolve(D,k),ne=w.hash||"";V.params=u(d(V.params));const we=EE(s,ce({},w,{hash:r_(ne),path:V.path})),X=r.createHref(we);return ce({fullPath:we,hash:ne,query:s===pu?l_(w.query):w.query||{}},V,{redirectedFrom:void 0,href:X})}function L(w){return typeof w=="string"?Co(n,w,c.value.path):ce({},w)}function F(w,k){if(l!==w)return os(8,{from:k,to:w})}function J(w){return et(w)}function _e(w){return J(ce(L(w),{replace:!0}))}function Ke(w){const k=w.matched[w.matched.length-1];if(k&&k.redirect){const{redirect:D}=k;let V=typeof D=="function"?D(w):D;return typeof V=="string"&&(V=V.includes("?")||V.includes("#")?V=L(V):{path:V},V.params={}),ce({query:w.query,hash:w.hash,params:"path"in V?{}:w.params},V)}}function et(w,k){const D=l=x(w),V=c.value,ne=w.state,we=w.force,X=w.replace===!0,f=Ke(D);if(f)return et(ce(L(f),{state:typeof f=="object"?ce({},ne,f.state):ne,force:we,replace:X}),k||D);const p=D;p.redirectedFrom=k;let m;return!we&&_E(s,V,D)&&(m=os(16,{to:p,from:V}),on(V,V,!0,!1)),(m?Promise.resolve(m):Dn(p,V)).catch(y=>Rt(y)?Rt(y,2)?y:at(y):he(y,p,V)).then(y=>{if(y){if(Rt(y,2))return et(ce({replace:X},L(y.to),{state:typeof y.to=="object"?ce({},ne,y.to.state):ne,force:we}),k||p)}else y=Bt(p,V,!0,X,ne);return yt(p,V,y),y})}function xt(w,k){const D=F(w,k);return D?Promise.reject(D):Promise.resolve()}function Dn(w,k){let D;const[V,ne,we]=w_(w,k);D=So(V.reverse(),"beforeRouteLeave",w,k);for(const f of V)f.leaveGuards.forEach(p=>{D.push(qt(p,w,k))});const X=xt.bind(null,w,k);return D.push(X),Nn(D).then(()=>{D=[];for(const f of i.list())D.push(qt(f,w,k));return D.push(X),Nn(D)}).then(()=>{D=So(ne,"beforeRouteUpdate",w,k);for(const f of ne)f.updateGuards.forEach(p=>{D.push(qt(p,w,k))});return D.push(X),Nn(D)}).then(()=>{D=[];for(const f of w.matched)if(f.beforeEnter&&!k.matched.includes(f))if(mt(f.beforeEnter))for(const p of f.beforeEnter)D.push(qt(p,w,k));else D.push(qt(f.beforeEnter,w,k));return D.push(X),Nn(D)}).then(()=>(w.matched.forEach(f=>f.enterCallbacks={}),D=So(we,"beforeRouteEnter",w,k),D.push(X),Nn(D))).then(()=>{D=[];for(const f of o.list())D.push(qt(f,w,k));return D.push(X),Nn(D)}).catch(f=>Rt(f,8)?f:Promise.reject(f))}function yt(w,k,D){for(const V of a.list())V(w,k,D)}function Bt(w,k,D,V,ne){const we=F(w,k);if(we)return we;const X=k===zt,f=Pn?history.state:{};D&&(V||X?r.replace(w.fullPath,ce({scroll:X&&f&&f.scroll},ne)):r.push(w.fullPath,ne)),c.value=w,on(w,k,D,X),at()}let vt;function xn(){vt||(vt=r.listen((w,k,D)=>{if(!Er.listening)return;const V=x(w),ne=Ke(V);if(ne){et(ce(ne,{replace:!0}),V).catch(Ls);return}l=V;const we=c.value;Pn&&xE(ou(we.fullPath,D.delta),Ji()),Dn(V,we).catch(X=>Rt(X,12)?X:Rt(X,2)?(et(X.to,V).then(f=>{Rt(f,20)&&!D.delta&&D.type===sr.pop&&r.go(-1,!1)}).catch(Ls),Promise.reject()):(D.delta&&r.go(-D.delta,!1),he(X,V,we))).then(X=>{X=X||Bt(V,we,!1),X&&(D.delta&&!Rt(X,8)?r.go(-D.delta,!1):D.type===sr.pop&&Rt(X,20)&&r.go(-1,!1)),yt(V,we,X)}).catch(Ls)}))}let rn=_s(),ys=_s(),be;function he(w,k,D){at(w);const V=ys.list();return V.length?V.forEach(ne=>ne(w,k,D)):console.error(w),Promise.reject(w)}function le(){return be&&c.value!==zt?Promise.resolve():new Promise((w,k)=>{rn.add([w,k])})}function at(w){return be||(be=!w,xn(),rn.list().forEach(([k,D])=>w?D(w):k()),rn.reset()),w}function on(w,k,D,V){const{scrollBehavior:ne}=t;if(!Pn||!ne)return Promise.resolve();const we=!D&&RE(ou(w.fullPath,0))||(V||!D)&&history.state&&history.state.scroll||null;return Ku().then(()=>ne(w,k,we)).then(X=>X&&DE(X)).catch(X=>he(X,w,k))}const ct=w=>r.go(w);let Xe;const Rn=new Set,Er={currentRoute:c,listening:!0,addRoute:g,removeRoute:v,hasRoute:N,getRoutes:I,resolve:x,options:t,push:J,replace:_e,go:ct,back:()=>ct(-1),forward:()=>ct(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ys.add,isReady:le,install(w){const k=this;w.component("RouterLink",d_),w.component("RouterView",y_),w.config.globalProperties.$router=k,Object.defineProperty(w.config.globalProperties,"$route",{enumerable:!0,get:()=>Bn(c)}),Pn&&!Xe&&c.value===zt&&(Xe=!0,J(r.location).catch(ne=>{}));const D={};for(const ne in zt)D[ne]=rt(()=>c.value[ne]);w.provide(Sc,k),w.provide(Zd,rr(D)),w.provide(pa,c);const V=w.unmount;Rn.add(w),w.unmount=function(){Rn.delete(w),Rn.size<1&&(l=zt,vt&&vt(),vt=null,c.value=zt,Xe=!1,be=!1),V()}}};return Er}function Nn(t){return t.reduce((e,n)=>e.then(()=>n()),Promise.resolve())}function w_(t,e){const n=[],s=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(l=>is(l,a))?s.push(a):n.push(a));const c=t.matched[o];c&&(e.matched.find(l=>is(l,c))||r.push(c))}return[n,s,r]}const E_={},__={class:"item"},b_={class:"details"};function T_(t,e){return ot(),pt("div",__,[K("i",null,[so(t.$slots,"icon",{},void 0,!0)]),K("div",b_,[K("h3",null,[so(t.$slots,"heading",{},void 0,!0)]),so(t.$slots,"default",{},void 0,!0)])])}const bs=An(E_,[["render",T_],["__scopeId","data-v-cf6bc0bd"]]),I_={},C_={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"17",fill:"currentColor"},S_=K("path",{d:"M11 2.253a1 1 0 1 0-2 0h2zm-2 13a1 1 0 1 0 2 0H9zm.447-12.167a1 1 0 1 0 1.107-1.666L9.447 3.086zM1 2.253L.447 1.42A1 1 0 0 0 0 2.253h1zm0 13H0a1 1 0 0 0 1.553.833L1 15.253zm8.447.833a1 1 0 1 0 1.107-1.666l-1.107 1.666zm0-14.666a1 1 0 1 0 1.107 1.666L9.447 1.42zM19 2.253h1a1 1 0 0 0-.447-.833L19 2.253zm0 13l-.553.833A1 1 0 0 0 20 15.253h-1zm-9.553-.833a1 1 0 1 0 1.107 1.666L9.447 14.42zM9 2.253v13h2v-13H9zm1.553-.833C9.203.523 7.42 0 5.5 0v2c1.572 0 2.961.431 3.947 1.086l1.107-1.666zM5.5 0C3.58 0 1.797.523.447 1.42l1.107 1.666C2.539 2.431 3.928 2 5.5 2V0zM0 2.253v13h2v-13H0zm1.553 13.833C2.539 15.431 3.928 15 5.5 15v-2c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM5.5 15c1.572 0 2.961.431 3.947 1.086l1.107-1.666C9.203 13.523 7.42 13 5.5 13v2zm5.053-11.914C11.539 2.431 12.928 2 14.5 2V0c-1.92 0-3.703.523-5.053 1.42l1.107 1.666zM14.5 2c1.573 0 2.961.431 3.947 1.086l1.107-1.666C18.203.523 16.421 0 14.5 0v2zm3.5.253v13h2v-13h-2zm1.553 12.167C18.203 13.523 16.421 13 14.5 13v2c1.573 0 2.961.431 3.947 1.086l1.107-1.666zM14.5 13c-1.92 0-3.703.523-5.053 1.42l1.107 1.666C11.539 15.431 12.928 15 14.5 15v-2z"},null,-1),A_=[S_];function D_(t,e){return ot(),pt("svg",C_,A_)}const x_=An(I_,[["render",D_]]),R_={},k_={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":"true",role:"img",class:"iconify iconify--mdi",width:"24",height:"24",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},N_=K("path",{d:"M20 18v-4h-3v1h-2v-1H9v1H7v-1H4v4h16M6.33 8l-1.74 4H7v-1h2v1h6v-1h2v1h2.41l-1.74-4H6.33M9 5v1h6V5H9m12.84 7.61c.1.22.16.48.16.8V18c0 .53-.21 1-.6 1.41c-.4.4-.85.59-1.4.59H4c-.55 0-1-.19-1.4-.59C2.21 19 2 18.53 2 18v-4.59c0-.32.06-.58.16-.8L4.5 7.22C4.84 6.41 5.45 6 6.33 6H7V5c0-.55.18-1 .57-1.41C7.96 3.2 8.44 3 9 3h6c.56 0 1.04.2 1.43.59c.39.41.57.86.57 1.41v1h.67c.88 0 1.49.41 1.83 1.22l2.34 5.39z",fill:"currentColor"},null,-1),O_=[N_];function M_(t,e){return ot(),pt("svg",k_,O_)}const L_=An(R_,[["render",M_]]),P_={},F_={xmlns:"http://www.w3.org/2000/svg",width:"18",height:"20",fill:"currentColor"},V_=K("path",{d:"M11.447 8.894a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm0 1.789a1 1 0 1 0 .894-1.789l-.894 1.789zM7.447 7.106a1 1 0 1 0-.894 1.789l.894-1.789zM10 9a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0H8zm9.447-5.606a1 1 0 1 0-.894-1.789l.894 1.789zm-2.894-.789a1 1 0 1 0 .894 1.789l-.894-1.789zm2 .789a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zM18 5a1 1 0 1 0-2 0h2zm-2 2.5a1 1 0 1 0 2 0h-2zm-5.447-4.606a1 1 0 1 0 .894-1.789l-.894 1.789zM9 1l.447-.894a1 1 0 0 0-.894 0L9 1zm-2.447.106a1 1 0 1 0 .894 1.789l-.894-1.789zm-6 3a1 1 0 1 0 .894 1.789L.553 4.106zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zm-2-.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 2.789a1 1 0 1 0 .894-1.789l-.894 1.789zM2 5a1 1 0 1 0-2 0h2zM0 7.5a1 1 0 1 0 2 0H0zm8.553 12.394a1 1 0 1 0 .894-1.789l-.894 1.789zm-1.106-2.789a1 1 0 1 0-.894 1.789l.894-1.789zm1.106 1a1 1 0 1 0 .894 1.789l-.894-1.789zm2.894.789a1 1 0 1 0-.894-1.789l.894 1.789zM8 19a1 1 0 1 0 2 0H8zm2-2.5a1 1 0 1 0-2 0h2zm-7.447.394a1 1 0 1 0 .894-1.789l-.894 1.789zM1 15H0a1 1 0 0 0 .553.894L1 15zm1-2.5a1 1 0 1 0-2 0h2zm12.553 2.606a1 1 0 1 0 .894 1.789l-.894-1.789zM17 15l.447.894A1 1 0 0 0 18 15h-1zm1-2.5a1 1 0 1 0-2 0h2zm-7.447-5.394l-2 1 .894 1.789 2-1-.894-1.789zm-1.106 1l-2-1-.894 1.789 2 1 .894-1.789zM8 9v2.5h2V9H8zm8.553-4.894l-2 1 .894 1.789 2-1-.894-1.789zm.894 0l-2-1-.894 1.789 2 1 .894-1.789zM16 5v2.5h2V5h-2zm-4.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zm-2.894-1l-2 1 .894 1.789 2-1L8.553.106zM1.447 5.894l2-1-.894-1.789-2 1 .894 1.789zm-.894 0l2 1 .894-1.789-2-1-.894 1.789zM0 5v2.5h2V5H0zm9.447 13.106l-2-1-.894 1.789 2 1 .894-1.789zm0 1.789l2-1-.894-1.789-2 1 .894 1.789zM10 19v-2.5H8V19h2zm-6.553-3.894l-2-1-.894 1.789 2 1 .894-1.789zM2 15v-2.5H0V15h2zm13.447 1.894l2-1-.894-1.789-2 1 .894 1.789zM18 15v-2.5h-2V15h2z"},null,-1),U_=[V_];function $_(t,e){return ot(),pt("svg",F_,U_)}const B_=An(P_,[["render",$_]]),j_={},z_={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},H_=K("path",{d:"M15 4a1 1 0 1 0 0 2V4zm0 11v-1a1 1 0 0 0-1 1h1zm0 4l-.707.707A1 1 0 0 0 16 19h-1zm-4-4l.707-.707A1 1 0 0 0 11 14v1zm-4.707-1.293a1 1 0 0 0-1.414 1.414l1.414-1.414zm-.707.707l-.707-.707.707.707zM9 11v-1a1 1 0 0 0-.707.293L9 11zm-4 0h1a1 1 0 0 0-1-1v1zm0 4H4a1 1 0 0 0 1.707.707L5 15zm10-9h2V4h-2v2zm2 0a1 1 0 0 1 1 1h2a3 3 0 0 0-3-3v2zm1 1v6h2V7h-2zm0 6a1 1 0 0 1-1 1v2a3 3 0 0 0 3-3h-2zm-1 1h-2v2h2v-2zm-3 1v4h2v-4h-2zm1.707 3.293l-4-4-1.414 1.414 4 4 1.414-1.414zM11 14H7v2h4v-2zm-4 0c-.276 0-.525-.111-.707-.293l-1.414 1.414C5.42 15.663 6.172 16 7 16v-2zm-.707 1.121l3.414-3.414-1.414-1.414-3.414 3.414 1.414 1.414zM9 12h4v-2H9v2zm4 0a3 3 0 0 0 3-3h-2a1 1 0 0 1-1 1v2zm3-3V3h-2v6h2zm0-6a3 3 0 0 0-3-3v2a1 1 0 0 1 1 1h2zm-3-3H3v2h10V0zM3 0a3 3 0 0 0-3 3h2a1 1 0 0 1 1-1V0zM0 3v6h2V3H0zm0 6a3 3 0 0 0 3 3v-2a1 1 0 0 1-1-1H0zm3 3h2v-2H3v2zm1-1v4h2v-4H4zm1.707 4.707l.586-.586-1.414-1.414-.586.586 1.414 1.414z"},null,-1),q_=[H_];function K_(t,e){return ot(),pt("svg",z_,q_)}const W_=An(j_,[["render",K_]]),G_={},Q_={xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",fill:"currentColor"},Y_=K("path",{d:"M10 3.22l-.61-.6a5.5 5.5 0 0 0-7.666.105 5.5 5.5 0 0 0-.114 7.665L10 18.78l8.39-8.4a5.5 5.5 0 0 0-.114-7.665 5.5 5.5 0 0 0-7.666-.105l-.61.61z"},null,-1),X_=[Y_];function J_(t,e){return ot(),pt("svg",Q_,X_)}const Z_=An(G_,[["render",J_]]),eb=K("a",{href:"https://vuejs.org/",target:"_blank",rel:"noopener"},"official documentation",-1),tb=K("a",{href:"https://vitejs.dev/guide/features.html",target:"_blank",rel:"noopener"},"Vite",-1),nb=K("a",{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener"},"VSCode",-1),sb=K("a",{href:"https://github.com/johnsoncodehk/volar",target:"_blank",rel:"noopener"},"Volar",-1),rb=K("a",{href:"https://www.cypress.io/",target:"_blank",rel:"noopener"},"Cypress",-1),ib=K("a",{href:"https://on.cypress.io/component",target:"_blank"},"Cypress Component Testing",-1),ob=K("br",null,null,-1),ab=K("code",null,"README.md",-1),cb=K("a",{href:"https://pinia.vuejs.org/",target:"_blank",rel:"noopener"},"Pinia",-1),lb=K("a",{href:"https://router.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Router",-1),ub=K("a",{href:"https://test-utils.vuejs.org/",target:"_blank",rel:"noopener"},"Vue Test Utils",-1),hb=K("a",{href:"https://github.com/vuejs/devtools",target:"_blank",rel:"noopener"},"Vue Dev Tools",-1),fb=K("a",{href:"https://github.com/vuejs/awesome-vue",target:"_blank",rel:"noopener"},"Awesome Vue",-1),db=K("a",{href:"https://chat.vuejs.org",target:"_blank",rel:"noopener"},"Vue Land",-1),pb=K("a",{href:"https://stackoverflow.com/questions/tagged/vue.js",target:"_blank",rel:"noopener"},"StackOverflow",-1),gb=K("a",{href:"https://news.vuejs.org",target:"_blank",rel:"noopener"},"our mailing list",-1),mb=K("a",{href:"https://twitter.com/vuejs",target:"_blank",rel:"noopener"},"@vuejs",-1),yb=K("a",{href:"https://vuejs.org/sponsor/",target:"_blank",rel:"noopener"},"becoming a sponsor",-1),vb={__name:"TheWelcome",setup(t){return(e,n)=>(ot(),pt(Ze,null,[ge(bs,null,{icon:Pe(()=>[ge(x_)]),heading:Pe(()=>[ae("Documentation")]),default:Pe(()=>[ae(" Vue’s "),eb,ae(" provides you with all information you need to get started. ")]),_:1}),ge(bs,null,{icon:Pe(()=>[ge(L_)]),heading:Pe(()=>[ae("Tooling")]),default:Pe(()=>[ae(" This project is served and bundled with "),tb,ae(". The recommended IDE setup is "),nb,ae(" + "),sb,ae(". If you need to test your components and web pages, check out "),rb,ae(" and "),ib,ae(". "),ob,ae(" More instructions are available in "),ab,ae(". ")]),_:1}),ge(bs,null,{icon:Pe(()=>[ge(B_)]),heading:Pe(()=>[ae("Ecosystem")]),default:Pe(()=>[ae(" Get official tools and libraries for your project: "),cb,ae(", "),lb,ae(", "),ub,ae(", and "),hb,ae(". If you need more resources, we suggest paying "),fb,ae(" a visit. ")]),_:1}),ge(bs,null,{icon:Pe(()=>[ge(W_)]),heading:Pe(()=>[ae("Community")]),default:Pe(()=>[ae(" Got stuck? Ask your question on "),db,ae(", our official Discord server, or "),pb,ae(". You should also subscribe to "),gb,ae(" and follow the official "),mb,ae(" twitter account for latest news in the Vue world. ")]),_:1}),ge(bs,null,{icon:Pe(()=>[ge(Z_)]),heading:Pe(()=>[ae("Support Vue")]),default:Pe(()=>[ae(" As an independent project, Vue relies on community backing for its sustainability. You can help us by "),yb,ae(". ")]),_:1})],64))}},wb={__name:"HomeView",setup(t){return(e,n)=>(ot(),pt("main",null,[ge(vb)]))}},Eb=v_({history:ME("/keys-803/"),routes:[{path:"/",name:"home",component:wb},{path:"/about",name:"about",component:()=>mE(()=>import("./AboutView-740bfd12.js"),["assets/AboutView-740bfd12.js","assets/AboutView-4d995ba2.css"])}]});const ep=_m(dE);ep.use(Eb);ep.mount("#app");export{An as _,K as a,pt as c,ot as o};
